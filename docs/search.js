window.pdocSearch = (function(){
/** elasticlunr - http://weixsong.github.io * Copyright (C) 2017 Oliver Nightingale * Copyright (C) 2017 Wei Song * MIT Licensed */!function(){function e(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.9.5",lunr=t,t.utils={},t.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),t.utils.toString=function(e){return void 0===e||null===e?"":e.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},t.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);-1!==n&&(this.events[e].splice(n,1),0==this.events[e].length&&delete this.events[e])}},t.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)},this)}},t.EventEmitter.prototype.hasHandler=function(e){return e in this.events},t.tokenizer=function(e){if(!arguments.length||null===e||void 0===e)return[];if(Array.isArray(e)){var n=e.filter(function(e){return null===e||void 0===e?!1:!0});n=n.map(function(e){return t.utils.toString(e).toLowerCase()});var i=[];return n.forEach(function(e){var n=e.split(t.tokenizer.seperator);i=i.concat(n)},this),i}return e.toString().trim().toLowerCase().split(t.tokenizer.seperator)},t.tokenizer.defaultSeperator=/[\s\-]+/,t.tokenizer.seperator=t.tokenizer.defaultSeperator,t.tokenizer.setSeperator=function(e){null!==e&&void 0!==e&&"object"==typeof e&&(t.tokenizer.seperator=e)},t.tokenizer.resetSeperator=function(){t.tokenizer.seperator=t.tokenizer.defaultSeperator},t.tokenizer.getSeperator=function(){return t.tokenizer.seperator},t.Pipeline=function(){this._queue=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in t.Pipeline.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[n]=e},t.Pipeline.getRegisteredFunction=function(e){return e in t.Pipeline.registeredFunctions!=!0?null:t.Pipeline.registeredFunctions[e]},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.getRegisteredFunction(e);if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i+1,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i,0,n)},t.Pipeline.prototype.remove=function(e){var t=this._queue.indexOf(e);-1!==t&&this._queue.splice(t,1)},t.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;n>o;o++){for(var r=e[o],s=0;i>s&&(r=this._queue[s](r,o,e),void 0!==r&&null!==r);s++);void 0!==r&&null!==r&&t.push(r)}return t},t.Pipeline.prototype.reset=function(){this._queue=[]},t.Pipeline.prototype.get=function(){return this._queue},t.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.DocumentStore,this.index={},this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},t.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;n._fields=e.fields,n._ref=e.ref,n.documentStore=t.DocumentStore.load(e.documentStore),n.pipeline=t.Pipeline.load(e.pipeline),n.index={};for(var i in e.index)n.index[i]=t.InvertedIndex.load(e.index[i]);return n},t.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new t.InvertedIndex,this},t.Index.prototype.setRef=function(e){return this._ref=e,this},t.Index.prototype.saveDocument=function(e){return this.documentStore=new t.DocumentStore(e),this},t.Index.prototype.addDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.addDoc(i,e),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));this.documentStore.addFieldLength(i,n,o.length);var r={};o.forEach(function(e){e in r?r[e]+=1:r[e]=1},this);for(var s in r){var u=r[s];u=Math.sqrt(u),this.index[n].addToken(s,{ref:i,tf:u})}},this),n&&this.eventEmitter.emit("add",e,this)}},t.Index.prototype.removeDocByRef=function(e){if(e&&this.documentStore.isDocStored()!==!1&&this.documentStore.hasDoc(e)){var t=this.documentStore.getDoc(e);this.removeDoc(t,!1)}},t.Index.prototype.removeDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.hasDoc(i)&&(this.documentStore.removeDoc(i),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));o.forEach(function(e){this.index[n].removeToken(e,i)},this)},this),n&&this.eventEmitter.emit("remove",e,this))}},t.Index.prototype.updateDoc=function(e,t){var t=void 0===t?!0:t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},t.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];var i=this.index[t].getDocFreq(e),o=1+Math.log(this.documentStore.length/(i+1));return this._idfCache[n]=o,o},t.Index.prototype.getFields=function(){return this._fields.slice()},t.Index.prototype.search=function(e,n){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var i=null;null!=n&&(i=JSON.stringify(n));for(var o=new t.Configuration(i,this.getFields()).get(),r={},s=Object.keys(e),u=0;u<s.length;u++){var a=s[u];r[a]=this.pipeline.run(t.tokenizer(e[a]))}var l={};for(var c in o){var d=r[c]||r.any;if(d){var f=this.fieldSearch(d,c,o),h=o[c].boost;for(var p in f)f[p]=f[p]*h;for(var p in f)p in l?l[p]+=f[p]:l[p]=f[p]}}var v,g=[];for(var p in l)v={ref:p,score:l[p]},this.documentStore.hasDoc(p)&&(v.doc=this.documentStore.getDoc(p)),g.push(v);return g.sort(function(e,t){return t.score-e.score}),g},t.Index.prototype.fieldSearch=function(e,t,n){var i=n[t].bool,o=n[t].expand,r=n[t].boost,s=null,u={};return 0!==r?(e.forEach(function(e){var n=[e];1==o&&(n=this.index[t].expandToken(e));var r={};n.forEach(function(n){var o=this.index[t].getDocs(n),a=this.idf(n,t);if(s&&"AND"==i){var l={};for(var c in s)c in o&&(l[c]=o[c]);o=l}n==e&&this.fieldSearchStats(u,n,o);for(var c in o){var d=this.index[t].getTermFrequency(n,c),f=this.documentStore.getFieldLength(c,t),h=1;0!=f&&(h=1/Math.sqrt(f));var p=1;n!=e&&(p=.15*(1-(n.length-e.length)/n.length));var v=d*a*h*p;c in r?r[c]+=v:r[c]=v}},this),s=this.mergeScores(s,r,i)},this),s=this.coordNorm(s,u,e.length)):void 0},t.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(var o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},t.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},t.Index.prototype.coordNorm=function(e,t,n){for(var i in e)if(i in t){var o=t[i].length;e[i]=e[i]*o/n}return e},t.Index.prototype.toJSON=function(){var e={};return this._fields.forEach(function(t){e[t]=this.index[t].toJSON()},this),{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:e,pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},t.DocumentStore=function(e){this._save=null===e||void 0===e?!0:e,this.docs={},this.docInfo={},this.length=0},t.DocumentStore.load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},t.DocumentStore.prototype.isDocStored=function(){return this._save},t.DocumentStore.prototype.addDoc=function(t,n){this.hasDoc(t)||this.length++,this.docs[t]=this._save===!0?e(n):null},t.DocumentStore.prototype.getDoc=function(e){return this.hasDoc(e)===!1?null:this.docs[e]},t.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},t.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},t.DocumentStore.prototype.addFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},t.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},t.DocumentStore.prototype.getFieldLength=function(e,t){return null===e||void 0===e?0:e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},t.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},t.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,u="^("+o+")?"+r+o+"("+r+")?$",a="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,c=new RegExp(s),d=new RegExp(a),f=new RegExp(u),h=new RegExp(l),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+o+i+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,D=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,P=/ll$/,k=new RegExp("^"+o+i+"[^aeiouwxy]$"),z=function(n){var i,o,r,s,u,a,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,u=v,s.test(n)?n=n.replace(s,"$1$2"):u.test(n)&&(n=n.replace(u,"$1$2")),s=g,u=m,s.test(n)){var z=s.exec(n);s=c,s.test(z[1])&&(s=y,n=n.replace(s,""))}else if(u.test(n)){var z=u.exec(n);i=z[1],u=h,u.test(i)&&(n=i,u=S,a=x,l=w,u.test(n)?n+="e":a.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=I,s.test(n)){var z=s.exec(n);i=z[1],n=i+"i"}if(s=b,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+e[o])}if(s=E,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+t[o])}if(s=D,u=F,s.test(n)){var z=s.exec(n);i=z[1],s=d,s.test(i)&&(n=i)}else if(u.test(n)){var z=u.exec(n);i=z[1]+z[2],u=d,u.test(i)&&(n=i)}if(s=_,s.test(n)){var z=s.exec(n);i=z[1],s=d,u=f,a=k,(s.test(i)||u.test(i)&&!a.test(i))&&(n=i)}return s=P,u=d,s.test(n)&&u.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return z}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.stopWordFilter=function(e){return e&&t.stopWordFilter.stopWords[e]!==!0?e:void 0},t.clearStopWords=function(){t.stopWordFilter.stopWords={}},t.addStopWords=function(e){null!=e&&Array.isArray(e)!==!1&&e.forEach(function(e){t.stopWordFilter.stopWords[e]=!0},this)},t.resetStopWords=function(){t.stopWordFilter.stopWords=t.defaultStopWords},t.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,"do":!0,does:!0,either:!0,"else":!0,ever:!0,every:!0,"for":!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,"if":!0,"in":!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,"this":!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,"while":!0,who:!0,whom:!0,why:!0,will:!0,"with":!0,would:!0,yet:!0,you:!0,your:!0},t.stopWordFilter.stopWords=t.defaultStopWords,t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(e){if(null===e||void 0===e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.InvertedIndex=function(){this.root={docs:{},df:0}},t.InvertedIndex.load=function(e){var t=new this;return t.root=e.root,t},t.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},t.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},t.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},t.InvertedIndex.prototype.getDocs=function(e){var t=this.getNode(e);return null==t?{}:t.docs},t.InvertedIndex.prototype.getTermFrequency=function(e,t){var n=this.getNode(e);return null==n?0:t in n.docs?n.docs[t].tf:0},t.InvertedIndex.prototype.getDocFreq=function(e){var t=this.getNode(e);return null==t?0:t.df},t.InvertedIndex.prototype.removeToken=function(e,t){if(e){var n=this.getNode(e);null!=n&&t in n.docs&&(delete n.docs[t],n.df-=1)}},t.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var t=t||[];if(void 0==n&&(n=this.getNode(e),null==n))return t;n.df>0&&t.push(e);for(var i in n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},t.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},t.Configuration=function(e,n){var e=e||"";if(void 0==n||null==n)throw new Error("fields should not be null");this.config={};var i;try{i=JSON.parse(e),this.buildUserConfig(i,n)}catch(o){t.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(n)}},t.Configuration.prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},t.Configuration.prototype.buildUserConfig=function(e,n){var i="OR",o=!1;if(this.reset(),"bool"in e&&(i=e.bool||i),"expand"in e&&(o=e.expand||o),"fields"in e)for(var r in e.fields)if(n.indexOf(r)>-1){var s=e.fields[r],u=o;void 0!=s.expand&&(u=s.expand),this.config[r]={boost:s.boost||0===s.boost?s.boost:1,bool:s.bool||i,expand:u}}else t.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(i,o,n)},t.Configuration.prototype.addAllFields2UserConfig=function(e,t,n){n.forEach(function(n){this.config[n]={boost:1,bool:e,expand:t}},this)},t.Configuration.prototype.get=function(){return this.config},t.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;){if(r===e)return o;e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;)e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o];return r>e?o:e>r?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,u=e.elements;;){if(n>o-1||i>r-1)break;s[n]!==u[i]?s[n]<u[i]?n++:s[n]>u[i]&&i++:(t.add(s[n]),n++,i++)}return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){var t,n,i;this.length>=e.length?(t=this,n=e):(t=e,n=this),i=t.clone();for(var o=0,r=n.toArray();o<r.length;o++)i.add(r[o]);return i},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.elasticlunr=t()}(this,function(){return t})}();
    /** pdoc search index */const docs = [{"fullname": "jimg_ncd", "modulename": "jimg_ncd", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "jimg_ncd.config", "modulename": "jimg_ncd.config", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "jimg_ncd.nuclei", "modulename": "jimg_ncd.nuclei", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "jimg_ncd.nuclei.RepTools", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools", "kind": "class", "doc": "<p>A utility class for processing and repairing nuclei data.\nProvides methods for extracting subsets, removing outliers, computing geometrical features,\nand merging/splitting nuclei based on spatial and intensity criteria.</p>\n"}, {"fullname": "jimg_ncd.nuclei.RepTools.extract_dict_by_indices", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.extract_dict_by_indices", "kind": "function", "doc": "<p>Extracts elements from all dictionary lists using provided indices.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>d : dict\n    Dictionary with list values.</p>\n\n<p>indices : list\n    List of indices to extract from each dictionary entry.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary containing only the selected elements.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">d</span>, </span><span class=\"param\"><span class=\"n\">indices</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.drop_outlires", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.drop_outlires", "kind": "function", "doc": "<p>Identify indices of nuclei that are considered outliers based on circularity and intensity.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>row : dict\n    Dictionary containing nuclei properties, including 'circularity' and 'intensity_mean'.</p>\n\n<p>diff_FC_intensity : float\n    Fraction of mean intensity below which a nucleus is considered an outlier.</p>\n\n<p>circ : float\n    Minimum circularity threshold for nuclei to be considered.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>list\n    List of indices to drop as outliers.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">row</span>, </span><span class=\"param\"><span class=\"n\">diff_FC_intensity</span><span class=\"o\">=</span><span class=\"mf\">0.95</span>, </span><span class=\"param\"><span class=\"n\">circ</span><span class=\"o\">=</span><span class=\"mf\">0.6</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.nn", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.nn", "kind": "function", "doc": "<p>Compute close neighbors between nuclei coordinates using a threshold distance.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>coords : list\n    List of numpy arrays, each containing coordinates for a nucleus.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary mapping pairs of nuclei indices to the number of close neighbors.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">coords</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.compute_axes_length", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.compute_axes_length", "kind": "function", "doc": "<p>Compute major and minor axis lengths of a nucleus from its contour.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contour : np.ndarray\n    Coordinates of nucleus contour points.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>tuple\n    Major and minor axis lengths.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contour</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.compute_eccentricity", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.compute_eccentricity", "kind": "function", "doc": "<p>Compute eccentricity of a nucleus from its contour.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contour : np.ndarray\n    Coordinates of nucleus contour points.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>float\n    Eccentricity of the nucleus.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contour</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.compute_feret_diameter", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.compute_feret_diameter", "kind": "function", "doc": "<p>Compute the Feret diameter of a given contour.</p>\n\n<p>The Feret diameter is defined as the maximum pairwise Euclidean distance between points in the contour.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contour : np.ndarray\n    Array of shape (N, 2) representing the contour coordinates.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>float\n    The maximum distance between any two points in the contour.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contour</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.compute_perimeter", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.compute_perimeter", "kind": "function", "doc": "<p>Compute the perimeter of a contour.</p>\n\n<p>The perimeter is calculated as the sum of Euclidean distances between consecutive points in the contour.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contour : np.ndarray\n    Array of shape (N, 2) representing the contour coordinates.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>float\n    Perimeter length of the contour.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contour</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.compute_circularity", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.compute_circularity", "kind": "function", "doc": "<p>Compute the circularity of a contour.</p>\n\n<p>Circularity is a measure of how close the shape is to a perfect circle.\nIt is calculated as 4 * pi * (area / perimeter^2).</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contour : np.ndarray\n    Array of shape (N, 2) representing the contour coordinates.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>float\n    Circularity of the contour. Value ranges from 0 to 1, where 1 indicates a perfect circle.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contour</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.RepTools.repairing_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "RepTools.repairing_nuclei", "kind": "function", "doc": "<p>Repair nuclei segmentation results by merging or removing outlier nuclei.</p>\n\n<p>This method adjusts nuclei detection results based on global and local thresholds, circularity, nearest neighbor relationships,\nand merges small or fragmented nuclei when appropriate. It also recalculates key morphological properties for merged nuclei.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>results : dict\n    Dictionary where keys are image identifiers and values are dictionaries containing detected nuclei properties\n    (e.g., 'area', 'coords', 'label', 'circularity', etc.).</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    A dictionary in the same structure as <code>results</code>, but with repaired nuclei information after merging or removing outliers.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">results</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement", "kind": "class", "doc": "<p>A class for managing, preprocessing, merging, stitching, saving, and loading\nmicroscopy or flow cytometry images used in NucleiFinder-based analyses.</p>\n\n<p>This class provides a unified interface for:</p>\n\n<ul>\n<li>loading image data,</li>\n<li>selecting images by IDs,</li>\n<li>preprocessing images (equalization, CLAHE, gamma/contrast/brightness adjustment),</li>\n<li>merging images with user-defined intensity ratios,</li>\n<li>stitching images horizontally,</li>\n<li>retrieving and saving processed image sets.</li>\n</ul>\n\n<p>The class stores original or loaded data in the <code>results_images</code> attribute,\nand all processed images in <code>prepared_images</code> under user-defined acronyms.\nThese acronyms allow flexible retrieval with <code>get_prepared_images()</code>\nand exporting via <code>save_prepared_images()</code>.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>images_ids : list[int]\n    List of selected image identifiers.</p>\n\n<p>result_dict : dict or None\n    Dictionary containing raw or preprocessed images.\n    If <code>None</code>, images may later be loaded or processed from file.</p>\n\n<p>experiment_name : str\n    Name of the experiment. Used for saving and structuring output.</p>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>images_ids : list[int]\n    IDs of images managed by the class.</p>\n\n<p>results_images : dict or None\n    Dictionary containing raw or analysis-derived images.</p>\n\n<p>experiment_name : str\n    Name of the experiment. Used in saved filenames.</p>\n\n<p>prepared_images : dict\n    Container for processed/adjusted/merged/stitched images,\n    indexed by user-defined acronyms.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>Processed images are stored only in memory until saved explicitly with\n<code>save_prepared_images()</code>.</p>\n\n<p>Raw images loaded from NucleiFinder analyses can be saved for later reuse\nin a serialized <code>.inuc</code> format using <code>save_raw()</code>.</p>\n\n<h2 id=\"examples\">Examples</h2>\n\n<p>Load image results from an analysis:</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">ImagesManagement</span><span class=\"o\">.</span><span class=\"n\">load_experimental_images</span><span class=\"p\">(</span><span class=\"n\">results</span><span class=\"p\">,</span> <span class=\"s2\">&quot;experiment1&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>Adjust selected images:</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">adjust_images</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">acronyme</span><span class=\"o\">=</span><span class=\"s2\">&quot;adj&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">path_to_images</span><span class=\"o\">=</span><span class=\"s2\">&quot;path/to/imgs&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">eq</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">clahe</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>Merge multiple prepared sets:</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">image_merging</span><span class=\"p\">([</span><span class=\"s2\">&quot;adj&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;other&quot;</span><span class=\"p\">],</span> <span class=\"n\">ratio_list</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mf\">0.7</span><span class=\"p\">,</span> <span class=\"mf\">0.3</span><span class=\"p\">])</span>\n</code></pre>\n</div>\n\n<p>Retrieve processed images:</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">imgs</span> <span class=\"o\">=</span> <span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">get_prepared_images</span><span class=\"p\">(</span><span class=\"s2\">&quot;adj&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>Save stitched images to disk:</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">save_prepared_images</span><span class=\"p\">(</span><span class=\"s2\">&quot;stitched_adj_other&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;./output/&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.__init__", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.__init__", "kind": "function", "doc": "<p>Initialize the ImagesManagement object.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>images_ids : list[int]\n    List of image identifiers.</p>\n\n<p>result_dict : dict or None\n    Dictionary containing processed images.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">images_ids</span>, </span><span class=\"param\"><span class=\"n\">result_dict</span>, </span><span class=\"param\"><span class=\"n\">experiment_name</span></span>)</span>"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.images_ids", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.images_ids", "kind": "variable", "doc": "<p>Stores the list of image IDs managed by this instance.</p>\n"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.results_images", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.results_images", "kind": "variable", "doc": "<p>Stores dictionary containing processed images.</p>\n"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.experiment_name", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.experiment_name", "kind": "variable", "doc": "<p>Stores the experiment name for file naming and organizational purposes.</p>\n"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.prepared_images", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.prepared_images", "kind": "variable", "doc": "<p>Dictionary for storing processed images (adjusted, merged, stitched),\nindexed by user-defined acronyms for flexible retrieval.</p>\n"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.load_from_dict", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.load_from_dict", "kind": "function", "doc": "<p>Load an ImagesManagement instance from a <code>.inuc</code> serialized dictionary.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str\n    Path to the <code>.inuc</code> file exported with <code>save_raw()</code>.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>ImagesManagement\n    A reconstructed ImagesManagement object.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">cls</span>, </span><span class=\"param\"><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">experiment_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.load_experimental_images", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.load_experimental_images", "kind": "function", "doc": "<p>Load results exported from NucleiFinder series analysis.</p>\n\n<p>Initialize the object with results from series_analysis_nuclei()\nor series_analysis_chromatinization() of the NucleiFinder class.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>results_dict : dict\n    Dictionary returned by <code>series_analysis_nuclei()</code> or\n    <code>series_analysis_chromatinization()</code>.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>ImagesManagement</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">cls</span>, </span><span class=\"param\"><span class=\"n\">results_dict</span><span class=\"p\">:</span> <span class=\"nb\">dict</span>, </span><span class=\"param\"><span class=\"n\">experiment_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.load_images_ids", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.load_images_ids", "kind": "function", "doc": "<p>Initialize the object with list of images IDs for porcesing.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>images_ids : list[int]\n    List of selected image IDs.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>ImagesManagement</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">cls</span>, </span><span class=\"param\"><span class=\"n\">images_ids</span><span class=\"p\">:</span> <span class=\"nb\">list</span>, </span><span class=\"param\"><span class=\"n\">experiment_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.get_included_acronyms", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.get_included_acronyms", "kind": "function", "doc": "<p>Print the data acronyms for adjusted images, processed using the\nself.adjust_images(), self.image_merging(), and self.image_stitching() methods.</p>\n\n<p>Acronym information is essential for retrieving and saving data using\nthe self.get_prepared_images() and self.save_prepared_images() methods.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>This method prints the list of available acronyms but does not return it.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.get_prepared_images", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.get_prepared_images", "kind": "function", "doc": "<p>Retrieves the prepared images (returned from preapre_selected_img()) stored in the object.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>acronyme : str or None\n    Acronym identifying a processed image set. If None, prints available keys.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary of prepared images.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">acronyme</span><span class=\"o\">=</span><span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.save_prepared_images", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.save_prepared_images", "kind": "function", "doc": "<p>Saves prepared images (returned from preapre_selected_img() method) to the specified directory.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_save : str\n    Directory path where the images will be saved. Default is the current working directory.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">acronyme</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">path_to_save</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.adjust_images", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.adjust_images", "kind": "function", "doc": "<p>Prepares selected images for processing, applying histogram equalization and CLAHE, if required.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>acronyme : str\n    Name of images being adjusted in this run.</p>\n\n<p>path_to_images : str\n    Path to the directory containing images.</p>\n\n<p>file_extension : str\n    Image file extension. Default is 'tiff'.</p>\n\n<p>eq : bool\n    Whether to apply histogram equalization. Default is True.</p>\n\n<p>clahe : bool\n    Whether to apply CLAHE. Default is True.</p>\n\n<p>kernal : tuple\n    Kernel size for CLAHE. Default is (50, 50).</p>\n\n<p>fille_name_part : str\n    Part of the file name to filter images. Default is an empty string.</p>\n\n<p>color : str\n    Color space to use. Default is 'gray'.</p>\n\n<p>max_intensity : int\n    Maximum intensity for image adjustment. Default is 65535.</p>\n\n<p>min_intenisty : int\n    Minimum intensity for image adjustment. Default is 0.</p>\n\n<p>brightness : int\n    Brightness adjustment value. Default is 1000.</p>\n\n<p>contrast : float\n    Contrast adjustment factor. Default is 1.0.</p>\n\n<p>gamma : float\n    Gamma correction factor. Default is 1.0.</p>\n\n<p>img_n : int\n    Number of images to process. Default is 0, which means all images.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary containing the processed images.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>To access the processed images, use the <code>get_prepared_images()</code> method.</p>\n\n<p>To save the processed images to disk, use the <code>save_prepared_images()</code> method.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">acronyme</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">path_to_images</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">file_extension</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;tif&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">eq</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">clahe</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">kernal</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"mi\">50</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">fille_name_part</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">color</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;gray&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">max_intensity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">65535</span>,</span><span class=\"param\">\t<span class=\"n\">min_intenisty</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">brightness</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1000</span>,</span><span class=\"param\">\t<span class=\"n\">contrast</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">gamma</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">img_n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.image_merging", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.image_merging", "kind": "function", "doc": "<p>Merge previously prepared images stored in <code>self.prepared_images</code>,\nadjusted based on the image ratios. The used ratios adjust relative image intensity.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>acronyme : list\n    List of image names to be merged.</p>\n\n<p>ratio_list : list[float]\n    List of ratio intensity values (0.0\u20131.0) for the merged image.\n    The <code>acronyme</code> list and <code>ratio_list</code> must be of the same length.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary of processed images.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>To access the processed images, use the <code>get_prepared_images()</code> method.</p>\n\n<p>To save the processed images to disk, use the <code>save_prepared_images()</code> method.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">acronyms</span><span class=\"p\">:</span> <span class=\"nb\">list</span>, </span><span class=\"param\"><span class=\"n\">ratio_list</span><span class=\"p\">:</span> <span class=\"nb\">list</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.image_stitching", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.image_stitching", "kind": "function", "doc": "<p>Stitch (horizontally) previously prepared images stored in <code>self.prepared_images</code>.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>acronyme : list\n    List of image names to be stitched.</p>\n\n<p>to_results_image : bool\n    Boolean value indicating whether images obtained from the\n    <code>series_analysis_nuclei()</code> or <code>series_analysis_chromatinization()</code>\n    methods of the <code>NucleiFinder</code> class should be stitched to the right\n    side of the images in the <code>acronyme</code> list.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary of processed images.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>To access the processed images, use the <code>get_prepared_images()</code> method.</p>\n\n<p>To save the processed images to disk, use the <code>save_prepared_images()</code> method.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">acronyms</span><span class=\"p\">:</span> <span class=\"nb\">list</span>, </span><span class=\"param\"><span class=\"n\">to_results_image</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.ImagesManagement.save_raw", "modulename": "jimg_ncd.nuclei", "qualname": "ImagesManagement.save_raw", "kind": "function", "doc": "<p>Save <code>self.results_images</code> loaded by the <code>self.load_experimental_images()</code> method,\nobtained from the <code>series_analysis_nuclei()</code> or <code>series_analysis_chromatinization()</code>\nmethods of the <code>NucleiFinder</code> class for later usage with cls.load_from_dict() method.\nThe data will be saved with a <code>.inuc</code> extension.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_save : str\n    The directory path where the images will be saved.\n    Default is the current working directory.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path_to_save</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder", "kind": "class", "doc": "<p>Implements a comprehensive pipeline for automated segmentation,\nselection, and analysis of cell nuclei and their internal chromatin structure\nin microscopy images.</p>\n\n<p>It utilizes a pre-trained deep learning model (StarDist2D) for initial\nnuclear identification, followed by the application of advanced morphological\nand intensity filters, and a dedicated algorithm for quantifying chromatinization.\nThe class provides detailed control over the hyperparameters for both the\nsegmentation process and image preprocessing stages.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray, optional\n    The input image (typically 16-bit) for analysis.</p>\n\n<p>test_results : list, optional\n    Plots resulting from parameter testing (e.g., NMS/Prob combinations).</p>\n\n<p>hyperparameter_nuclei : dict, optional\n    Parameters for nuclei segmentation and filtering (e.g., 'nms', 'prob', 'min_size', 'circularity').</p>\n\n<p>hyperparameter_chromatinization : dict, optional\n    Parameters for segmenting and filtering chromatin spots (e.g., 'cut_point', 'ratio').</p>\n\n<p>img_adj_par_chrom : dict, optional\n    Image adjustment parameters (gamma, contrast) specifically for chromatin analysis.</p>\n\n<p>img_adj_par : dict, optional\n    Image adjustment parameters for nuclei segmentation.</p>\n\n<p>show_plots : bool, optional\n    Flag controlling the automatic display of visual results.</p>\n\n<p>nuclei_results : dict, optional\n    A dictionary storing numerical data (features) extracted from the nuclei.</p>\n\n<p>images : dict, optional\n    A dictionary storing output images and masks.</p>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>image : np.ndarray\n    The currently loaded image for analysis.</p>\n\n<p>test_results : list\n    The visual outcomes of NMS/Prob parameter tests.</p>\n\n<p>hyperparameter_nuclei : dict\n    A dictionary of active parameters used by the <code>find_nuclei()</code> and <code>select_nuclei()</code> methods.</p>\n\n<p>hyperparameter_chromatinization : dict\n    A dictionary of active parameters used by the <code>nuclei_chromatinization()</code> method.</p>\n\n<p>img_adj_par : dict\n    Image correction parameters for nuclei segmentation.</p>\n\n<p>img_adj_par_chrom : dict\n    Image correction parameters for chromatin analysis.</p>\n\n<p>show_plots : bool\n    The state of the plot display flag.</p>\n\n<p>nuclei_results : dict\n    Stores feature dictionaries for: all detected ('nuclei'), selected ('nuclei_reduced'),\n    and chromatinization data ('nuclei_chromatinization').</p>\n\n<p>images : dict\n    Stores masks and images visualizing the results.</p>\n\n<p>series_im : bool\n    Flag indicating if the class is operating in a batch or series processing mode.</p>\n\n<h2 id=\"methods\">Methods</h2>\n\n<p>set_nms(nms)\n    Sets the Non-Maximum Suppression (NMS) threshold.</p>\n\n<p>set_prob(prob)\n    Sets the segmentation probability threshold.</p>\n\n<p>set_nuclei_circularity(circ)\n    Sets the minimum required circularity for a nucleus.</p>\n\n<p>set_nuclei_local_intenisty_FC(local_FC)\n    Sets the factor used for removing false positives based on local intensity differences.</p>\n\n<p>set_nuclei_global_area_FC(global_FC)\n    Sets the factor used for removing size-based outlier false positives.</p>\n\n<p>set_nuclei_size(size)\n    Sets the minimum and maximum area (in pixels) for nuclei selection.</p>\n\n<p>set_nuclei_min_mean_intensity(intensity)\n    Sets the minimum required mean intensity value for a nucleus.</p>\n\n<p>set_chromatinization_size(size)\n    Sets the minimum and maximum area (in pixels) for chromatin spot selection.</p>\n\n<p>set_chromatinization_cut_point(cut_point)\n    Sets the factor used to adjust the chromatin segmentation threshold (Otsu's method).</p>\n\n<p>set_adj_image_gamma(gamma)\n    Sets the gamma correction for the nuclei image.</p>\n\n<p>set_adj_chrom_contrast(contrast)\n    Sets the contrast adjustment for the chromatinization image.</p>\n\n<p>current_parameters_nuclei (property)\n    Returns the active nuclei segmentation and filtering parameters.</p>\n\n<p>find_nuclei()\n    Performs nuclei segmentation using StarDist and extracts initial features.</p>\n\n<p>select_nuclei()\n    Filters the detected nuclei based on set morphological and intensity criteria.</p>\n\n<p>nuclei_chromatinization()\n    Performs quantitative and morphological analysis of chromatin spots in selected nuclei.</p>\n\n<p>get_features(model_out, image)\n    Calculates geometric and intensity features from a segmented mask (label image).</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>The typical analysis workflow follows this order:</p>\n\n<ol>\n<li><code>input_image()</code></li>\n<li><code>find_nuclei()</code></li>\n<li><code>select_nuclei()</code> (Optional)</li>\n<li><code>nuclei_chromatinization()</code> (Optional)</li>\n</ol>\n", "bases": "jimg_ncd.utils.ImageTools, RepTools"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.__init__", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.__init__", "kind": "function", "doc": "<p>The main class for the detection and analysis of cell nuclei and their chromatinization\nin microscopy or flow cytometry images, utilizing the StarDist segmentation model.</p>\n\n<p>This class inherits functionality for image processing (ImageTools) and\nresults handling (RepTools).</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray, optional\n    The input image for analysis.\n    Default: None.</p>\n\n<p>test_results : list, optional\n    A list of plots or images resulting from parameter testing.\n    Default: None.</p>\n\n<p>hyperparameter_nuclei : dict, optional\n    The segmentation parameters for nuclei detection.\n    Default:\n    {'nms': 0.8, 'prob': 0.4, 'max_size': 1000, 'min_size': 20,\n     'circularity': 0.6, 'intensity_mean': 6553.5, 'nn_min': 10,\n     'FC_diff_global': 1.5, 'FC_diff_local_intensity': 0.6}</p>\n\n<p>hyperparameter_chromatinization : dict, optional\n    The analysis parameters for chromatin spots within the nuclei.\n    Default:\n    {'max_size': 800, 'min_size': 2, 'ratio': 0.1, 'cut_point': 0.95}</p>\n\n<p>img_adj_par_chrom : dict, optional\n    Image adjustment parameters (gamma, contrast, brightness) for chromatin analysis.\n    Default: {'gamma': 0.25, 'contrast': 5, 'brightness': 950}</p>\n\n<p>img_adj_par : dict, optional\n    Image adjustment parameters (gamma, contrast, brightness) for nuclei segmentation.\n    Default: {'gamma': 0.9, 'contrast': 2, 'brightness': 1000}</p>\n\n<p>show_plots : bool, optional\n    Flag to determine whether results and plots should be displayed automatically.\n    Default: True.</p>\n\n<p>nuclei_results : dict, optional\n    A dictionary storing the numerical results of the analysis.\n    Default: {'nuclei': None, 'nuclei_reduced': None, 'nuclei_chromatinization': None}</p>\n\n<p>images : dict, optional\n    A dictionary storing the output images (e.g., masks).\n    Default: {'nuclei': None, 'nuclei_reduced': None, 'nuclei_chromatinization': None}</p>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>image : np.ndarray\n    The currently loaded image for analysis.</p>\n\n<p>hyperparameter_nuclei : dict\n    Active nuclei segmentation parameters.</p>\n\n<p>hyperparameter_chromatinization : dict\n    Active chromatinization analysis parameters.</p>\n\n<p>img_adj_par : dict\n    Active image correction parameters for nuclei segmentation.</p>\n\n<p>img_adj_par_chrom : dict\n    Active image correction parameters for chromatin analysis.</p>\n\n<p>show_plots : bool\n    The current state of the plot display flag.</p>\n\n<p>series_im : bool\n    Flag indicating if a series of images is being processed.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>The default value for 'intensity_mean' in hyperparameter_nuclei is calculated\nas $(2^{16} - 1) / 10$, which represents 10% of the maximum 16-bit value (65535 / 10 = 6553.5).</p>\n\n<p>The image adjustment parameters are crucial for optimizing contrast and brightness\nto improve the performance of both the StarDist model and the subsequent\nchromatin thresholding.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">image</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">test_results</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">hyperparameter_nuclei</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">hyperparameter_chromatinization</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">img_adj_par_chrom</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">img_adj_par</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">show_plots</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">nuclei_results</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">images</span><span class=\"o\">=</span><span class=\"kc\">None</span></span>)</span>"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.image", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.image", "kind": "variable", "doc": "<p>Loaded input image.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.test_results", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.test_results", "kind": "variable", "doc": "<p>Results of parameter tests.</p>\n\n<p>This attribute or method stores the outcomes of parameter testing procedures.\nFor interactive browsing and inspection of the results, use the \n<code>browser_test(self)</code> method.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.hyperparameter_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.hyperparameter_nuclei", "kind": "variable", "doc": "<p>Active nuclei segmentation/filter parameters.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.hyperparameter_chromatinization", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.hyperparameter_chromatinization", "kind": "variable", "doc": "<p>Active chromatin analysis parameters.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.img_adj_par_chrom", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.img_adj_par_chrom", "kind": "variable", "doc": "<p>Image adjustment for chromatin analysis.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.img_adj_par", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.img_adj_par", "kind": "variable", "doc": "<p>Image adjustment for nuclei segmentation.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.show_plots", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.show_plots", "kind": "variable", "doc": "<p>Flag controlling plot display.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.nuclei_results", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.nuclei_results", "kind": "variable", "doc": "<p>Stored dictionary of nuclei analysis results.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.images", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.images", "kind": "variable", "doc": "<p>Stored dictionary of images from nuclei analysis.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.series_im", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.series_im", "kind": "variable", "doc": "<p>Flag for batch/series image processing.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_nms", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_nms", "kind": "function", "doc": "<p>Set the Non-Maximum Suppression (NMS) threshold.</p>\n\n<p>The NMS threshold controls how aggressively overlapping detections are suppressed.\nA lower value reduces the probability of overlapping nuclei being kept.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>nms : float\n    The NMS IoU threshold value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">nms</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_prob", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_prob", "kind": "function", "doc": "<p>Set the probability threshold used in segmentation.</p>\n\n<p>The probability threshold determines the minimum confidence required for an object\n(e.g., a nucleus) to be classified as a segmented entity. Higher values result in\nfewer segmented objects, as only detections with strong confidence scores are kept.\nThis may lead to omission of weaker or less distinct structures.</p>\n\n<p>Because optimal values depend on image characteristics, it is important to visually\ninspect segmentation results produced with different thresholds to determine the\nmost suitable setting.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>prob : float\n    The probability threshold value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">prob</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_nuclei_circularity", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_nuclei_circularity", "kind": "function", "doc": "<p>This method sets 'circ' parameter. The circ is a parameter used for adjust minimal nucleus circularity.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>circ : float\n    Nuclei circularity value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">circ</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_nuclei_local_intenisty_FC", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_nuclei_local_intenisty_FC", "kind": "function", "doc": "<p>This method sets the 'FC_diff_local_intensity' parameter. The 'local_FC' is used to remove false positive multiple nuclei that were detected in single image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>local_FC : float\n    local_FC value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">local_FC</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_nuclei_global_area_FC", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_nuclei_global_area_FC", "kind": "function", "doc": "<p>This method sets the 'FC_diff_global' parameter. The 'global_FC' is used to remove false positive multiple nuclei that were detected in a single image and are outliers from the global mean area size.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>FC_diff_global : float\n    global_FC value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">global_FC</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_nuclei_size", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_nuclei_size", "kind": "function", "doc": "<p>This method sets 'size' parameter. The size is a parameter used for adjust minimal and maximal nucleus area (px).</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>size : tuple\n    (min_value, max_value)</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">size</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_nuclei_min_mean_intensity", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_nuclei_min_mean_intensity", "kind": "function", "doc": "<p>This method sets 'intensity' parameter. The 'intensity' parameter is used to adjust the minimum mean intensity of all pixel intensities within the nucleus.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>intensity : int\n    intensity value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">intensity</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_chromatinization_size", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_chromatinization_size", "kind": "function", "doc": "<p>This method sets 'size' parameter. The size is a parameter used for adjust minimal and maximal chromanitization spot area (px) within the nucleus.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>size : tuple\n    (min_value, max_value)</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">size</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_chromatinization_ratio", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_chromatinization_ratio", "kind": "function", "doc": "<p>This method sets the 'ratio' parameter. In this case, the 'ratio' parameter is similar to 'circularity' as it describes the ratio between the maximum lengths in the x and y dimensions of the nucleus chromatinization.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>ratio : float\n    ratio value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">ratio</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_chromatinization_cut_point", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_chromatinization_cut_point", "kind": "function", "doc": "<p>This method sets the 'cut_point' parameter. The 'cut_point' parameter is a factor used to adjust the threshold for separating the background from chromatin spots.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>cut_point : int\n    cut_point value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">cut_point</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_adj_image_gamma", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_adj_image_gamma", "kind": "function", "doc": "<p>This method sets 'gamma' parameter. The gamma is a parameter used for adjust gamma of the nucleus image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>gamma : float\n    gamma value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">gamma</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_adj_image_contrast", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_adj_image_contrast", "kind": "function", "doc": "<p>This method sets 'contrast' parameter. The contrast is a parameter used for adjust contrast of the nucleus image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contrast : float\n    contrast value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contrast</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_adj_image_brightness", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_adj_image_brightness", "kind": "function", "doc": "<p>This method sets 'brightness' parameter. The brightness is a parameter used for adjust brightness of the nucleus image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>brightness : float\n    brightness value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">brightness</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_adj_chrom_gamma", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_adj_chrom_gamma", "kind": "function", "doc": "<p>This method sets 'gamma' parameter. The gamma is a parameter used for adjust gamma of the nucleus chromatinization image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>gamma : float\n    gamma value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">gamma</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_adj_chrom_contrast", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_adj_chrom_contrast", "kind": "function", "doc": "<p>This method sets 'contrast' parameter. The contrast is a parameter used for adjust contrast of the nucleus chromatinization image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>contrast : float\n    contrast value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">contrast</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.set_adj_chrom_brightness", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.set_adj_chrom_brightness", "kind": "function", "doc": "<p>This method sets 'brightness' parameter. The brightness is a parameter used for adjust brightness of the nucleus chromatinization image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>brightness : float\n    brightness value.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">brightness</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.current_parameters_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.current_parameters_nuclei", "kind": "variable", "doc": "<p>This method returns current nuclei analysis parameters.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei analysis parameters.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.current_parameters_chromatinization", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.current_parameters_chromatinization", "kind": "variable", "doc": "<p>This method returns current nuclei chromatinization analysis parameters.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei chromatinization analysis parameters.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.current_parameters_img_adj", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.current_parameters_img_adj", "kind": "variable", "doc": "<p>This method returns current nuclei image setup.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei image setup.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.current_parameters_img_adj_chro", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.current_parameters_img_adj_chro", "kind": "variable", "doc": "<p>This method returns current nuclei chromatinization image setup.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei chromatinization image setup.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.get_results_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.get_results_nuclei", "kind": "function", "doc": "<p>This function returns nuclei analysis results.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei results in the dictionary format.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.get_results_nuclei_selected", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.get_results_nuclei_selected", "kind": "function", "doc": "<p>This function returns the results of the nuclei analysis following adjustments to the data selection thresholds.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei results in the dictionary format.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.get_results_nuclei_chromatinization", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.get_results_nuclei_chromatinization", "kind": "function", "doc": "<p>This function returns the results of the nuclei chromatinization analysis.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Nuclei chromatinization results in the dictionary format.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.add_test", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.add_test", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">plots</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.input_image", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.input_image", "kind": "function", "doc": "<p>This method adds the image to the class for nuclei and/or chromatinization analysis.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img : np.ndarray\n    Input image.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">img</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.get_features", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.get_features", "kind": "function", "doc": "<p>Extracts numerical feature descriptors from model output for a given image.</p>\n\n<p>This method processes the output returned by a feature-extraction model\n(e.g., CNN, encoder network, statistical model) and converts it into a\nstructured feature vector associated with the provided image.\nTypically used for downstream analysis, classification, or clustering.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>model_out : any\n    Output returned by the feature-extraction model.\n    The expected format depends on the model (e.g., tensor, dict, list of arrays).</p>\n\n<p>image : ndarray\n    The input image (2D or 3D array) for which features are being extracted.\n    Provided for reference or for combining raw image metrics with model features.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>features : dict\n    Dictionary containing extracted features.\n    Keys correspond to feature names, and values are numerical descriptors.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">model_out</span>, </span><span class=\"param\"><span class=\"n\">image</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.nuclei_finder_test", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.nuclei_finder_test", "kind": "function", "doc": "<p>This method performs testing analysis of parameters (specified 'nms' and 'prob' parameters)\nfor the image provided by the input_image() method.</p>\n\n<p>This method evaluates the performance of the internal NucleiFinder\nconfiguration using the currently loaded images, parameters, or model\nsettings. It is typically used to check whether the detection, segmentation\nor preprocessing stages run correctly on sample data.</p>\n\n<h2 id=\"examples\">Examples</h2>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nf</span><span class=\"o\">.</span><span class=\"n\">nuclei_finder_test</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nf</span><span class=\"o\">.</span><span class=\"n\">browser_test</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.find_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.find_nuclei", "kind": "function", "doc": "<p>Performs analysis on the image provided by the <code>input_image()</code> method\nusing default or user-defined parameters.</p>\n\n<p>To show current parameters, use:\n    - <code>current_parameters_nuclei</code>\n    - <code>current_parameters_img_adj</code></p>\n\n<p>To set new parameters, use:\n    - <code>set_nms()</code>\n    - <code>set_prob()</code>\n    - <code>set_adj_image_gamma()</code>\n    - <code>set_adj_image_contrast()</code>\n    - <code>set_adj_image_brightness()</code></p>\n\n<p>To get analysis results, use:\n    - <code>get_results_nuclei()</code></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.select_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.select_nuclei", "kind": "function", "doc": "<p>Selects data obtained from <code>find_nuclei()</code> based on the set threshold parameters.</p>\n\n<p>To show current parameters, use:\n    - <code>current_parameters_nuclei</code></p>\n\n<p>To set new parameters, use:\n    - <code>set_nuclei_circularity()</code>\n    - <code>set_nuclei_size()</code>\n    - <code>set_nuclei_min_mean_intensity()</code></p>\n\n<p>To get analysis results, use:\n    - <code>get_results_nuclei_selected()</code></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.nuclei_chromatinization", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.nuclei_chromatinization", "kind": "function", "doc": "<p>Performs chromatinization analysis of nuclei using data obtained from\n<code>find_nuclei()</code> and/or <code>select_nuclei()</code>.</p>\n\n<p>To show current parameters, use:\n    - <code>current_parameters_chromatinization</code>\n    - <code>current_parameters_img_adj_chro</code></p>\n\n<p>To set new parameters, use:\n    - <code>set_chromatinization_size()</code>\n    - <code>set_chromatinization_ratio()</code>\n    - <code>set_chromatinization_cut_point()</code>\n    - <code>set_adj_chrom_gamma()</code>\n    - <code>set_adj_chrom_contrast()</code>\n    - <code>set_adj_chrom_brightness()</code></p>\n\n<p>To get analysis results, use:\n    - <code>get_results_nuclei_chromatinization()</code></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.browser_test", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.browser_test", "kind": "function", "doc": "<p>Displays test results generated by the <code>nuclei_finder_test()</code> method\nin the default web browser.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.series_analysis_chromatinization", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.series_analysis_chromatinization", "kind": "function", "doc": "<p>Performs full analysis on images provided via the <code>input_image()</code> method\nusing default or user-defined parameters.</p>\n\n<p>This method runs nuclei detection, nuclei selection, and chromatinization\nanalysis in a single pipeline. Users can adjust parameters for each step\nbefore running the analysis.</p>\n\n<p>To show current parameters, use:\n    - <code>current_parameters_nuclei</code>\n    - <code>current_parameters_img_adj</code>\n    - <code>current_parameters_chromatinization</code>\n    - <code>current_parameters_img_adj_chro</code></p>\n\n<p>To set new parameters, use:\n    - <code>set_nms()</code>\n    - <code>set_prob()</code>\n    - <code>set_adj_image_gamma()</code>\n    - <code>set_adj_image_contrast()</code>\n    - <code>set_adj_image_brightness()</code>\n    - <code>set_nuclei_circularity()</code>\n    - <code>set_nuclei_size()</code>\n    - <code>set_nuclei_min_mean_intensity()</code>\n    - <code>set_chromatinization_size()</code>\n    - <code>set_chromatinization_ratio()</code>\n    - <code>set_chromatinization_cut_point()</code>\n    - <code>set_adj_chrom_gamma()</code>\n    - <code>set_adj_chrom_contrast()</code>\n    - <code>set_adj_chrom_brightness()</code></p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_images : str\n    Path to the directory containing images for analysis.</p>\n\n<p>file_extension : str, optional\n    Extension of the image files. Default is 'tiff'.</p>\n\n<p>selected_id : list, optional\n    List of IDs that must be part of the image name to distinguish them\n    from others. Default is an empty list, which means all images in\n    the directory will be processed.</p>\n\n<p>fille_name_part : str, optional\n    Part of the file name to filter images. Default is an empty string.</p>\n\n<p>selection_opt : bool, optional\n    Whether to run <code>select_nuclei()</code> with the defined parameters. Default is True.</p>\n\n<p>include_img : bool, optional\n    Whether to include the images in the result dictionary. Default is True.</p>\n\n<p>test_series : int, optional\n    Number of images to test the parameters and return results. Default is 0,\n    which means all images in the directory will be processed.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>results_dict : dict\n    Dictionary containing results for each image in the directory.\n    Keys correspond to image file names.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>This method runs the complete nuclei and chromatinization analysis pipeline.</p>\n\n<p>Parameters must be set appropriately before calling to ensure correct results.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">path_to_images</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">file_extension</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;tiff&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">selected_id</span><span class=\"p\">:</span> <span class=\"nb\">list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>,</span><span class=\"param\">\t<span class=\"n\">fille_name_part</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">selection_opt</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_img</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">test_series</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiFinder.series_analysis_nuclei", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiFinder.series_analysis_nuclei", "kind": "function", "doc": "<p>Performs analysis on the image provided by the <code>input_image()</code> method\nusing default or user-defined parameters.</p>\n\n<p>This method runs nuclei detection and selection using the currently set\nparameters. Users can adjust image preprocessing and nuclei detection\nparameters before running the analysis.</p>\n\n<p>To show current parameters, use:\n    - <code>current_parameters_nuclei</code>\n    - <code>current_parameters_img_adj</code></p>\n\n<p>To set new parameters, use:\n    - <code>set_nms()</code>\n    - <code>set_prob()</code>\n    - <code>set_adj_image_gamma()</code>\n    - <code>set_adj_image_contrast()</code>\n    - <code>set_adj_image_brightness()</code>\n    - <code>set_nuclei_circularity()</code>\n    - <code>set_nuclei_size()</code>\n    - <code>set_nuclei_min_mean_intensity()</code></p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_images : str\n    Path to the directory containing images for analysis.</p>\n\n<p>file_extension : str, optional\n    Extension of the image files. Default is 'tiff'.</p>\n\n<p>selected_id : list, optional\n    List of IDs that must be part of the image name to distinguish them\n    from others. Default is an empty list, which means all images in\n    the directory will be processed.</p>\n\n<p>fille_name_part : str, optional\n    Part of the file name to filter images. Default is an empty string.</p>\n\n<p>selection_opt : bool, optional\n    Whether to run the <code>select_nuclei()</code> method with the defined parameters.\n    Default is True.</p>\n\n<p>include_img : bool, optional\n    Whether to include the images in the result dictionary. Default is True.</p>\n\n<p>test_series : int, optional\n    Number of images to test the parameters and return results. Default is 0,\n    which means all images in the directory will be processed.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>results_dict : dict\n    Dictionary containing results for each image in the directory.\n    Keys correspond to image file names.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">path_to_images</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">file_extension</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;tiff&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">selected_id</span><span class=\"p\">:</span> <span class=\"nb\">list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>,</span><span class=\"param\">\t<span class=\"n\">fille_name_part</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">selection_opt</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_img</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">test_series</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement", "kind": "class", "doc": "<p>Manages nuclei analysis data obtained from the <code>NucleiFinder</code> class,\nincluding nuclei properties and optionally Image Stream (IS) data.</p>\n\n<p>This class allows loading nuclei data from JSON files or directly from\n<code>NucleiFinder</code> analysis results, converting them to pandas DataFrames,\nadding IS data, concatenating results from multiple experiments, and\nsaving results in JSON or CSV format. It also provides helper methods\nfor merging, filtering, and retrieving data.</p>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>nuceli_data : dict\n    Dictionary storing nuclei properties for each image or experiment.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n\n<p>nuceli_data_df : pd.DataFrame or None\n    DataFrame representation of nuclei properties.</p>\n\n<p>nuclei_IS_data : pd.DataFrame or None\n    DataFrame of nuclei data merged with IS data.</p>\n\n<p>concat_data : list or None\n    List of other <code>NucleiDataManagement</code> objects added for combined analysis.</p>\n\n<h2 id=\"methods\">Methods</h2>\n\n<p>load_nuc_dict(path)\n    Load nuclei data from a JSON dictionary file (*.nuc) and initialize the object.\n    _convert_to_df()\n    Convert nuclei dictionary data to a pandas DataFrame.</p>\n\n<p>add_IS_data(IS_data, IS_features)\n    Merge Image Stream (IS) data with nuclei data.</p>\n\n<p>get_data()\n    Retrieve the nuclei data as a pandas DataFrame.</p>\n\n<p>get_data_with_IS()\n    Retrieve the nuclei data merged with IS data.</p>\n\n<p>save_nuc_project(path)\n    Save nuclei data as a JSON file with *.nuc extension.</p>\n\n<p>save_results_df(path)\n    Save nuclei data as a CSV file.</p>\n\n<p>save_results_df_with_IS(path)\n    Save nuclei data merged with IS data as a CSV file.</p>\n\n<p>add_experiment(data_list)\n    Add other <code>NucleiDataManagement</code> objects for concatenated analysis.</p>\n\n<p>get_mutual_experiments_data(inc_is)\n    Retrieve concatenated nuclei data from multiple experiments.</p>\n\n<p>save_mutual_experiments(path, inc_is)\n    Save concatenated data from multiple experiments as a CSV file.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.__init__", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.__init__", "kind": "function", "doc": "<p>Initialize a NucleiDataManagement object with nuclei data and experiment name.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>nuclei_data : dict\n    Dictionary containing nuclei properties for each image or experiment.\n    If the dictionary entries have keys 'stats' and 'img', only 'stats' are stored.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>nuceli_data : dict\n    Dictionary storing nuclei properties for each image or experiment.</p>\n\n<p>experiment_name : str\n    Name of the experiment.</p>\n\n<p>nuceli_data_df : pd.DataFrame or None\n    DataFrame representation of nuclei properties (initialized as None).</p>\n\n<p>nuclei_IS_data : pd.DataFrame or None\n    DataFrame of nuclei data merged with Image Stream (IS) data (initialized as None).</p>\n\n<p>concat_data : list or None\n    List of other <code>NucleiDataManagement</code> objects added for combined analysis (initialized as None).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">nuclei_data</span><span class=\"p\">:</span> <span class=\"nb\">dict</span>, </span><span class=\"param\"><span class=\"n\">experiment_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span>)</span>"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.experiment_name", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.experiment_name", "kind": "variable", "doc": "<p>Name of the experiment.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.nuceli_data_df", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.nuceli_data_df", "kind": "variable", "doc": "<p>Stored DataFrame representation of nuclei features</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.nuclei_IS_data", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.nuclei_IS_data", "kind": "variable", "doc": "<p>Stored DataFrame of data from Image Stream (IS).</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.concat_data", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.concat_data", "kind": "variable", "doc": "<p>Sotored list of other <code>NucleiDataManagement</code> objects.</p>\n"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.load_nuc_dict", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.load_nuc_dict", "kind": "function", "doc": "<p>Initialize a NucleiDataManagement object from a JSON dictionary file.</p>\n\n<p>The loaded data must be previously saved using the <code>save_nuc_project()</code> method.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str\n    Path to the *.nuc JSON file containing nuclei data.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">cls</span>, </span><span class=\"param\"><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.add_IS_data", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.add_IS_data", "kind": "function", "doc": "<p>Merge Image Stream (IS) data with nuclei analysis data.</p>\n\n<p>This method concatenates IS (Image Stream, <a href=\"https://cytekbio.com/pages/imagestream\">https://cytekbio.com/pages/imagestream</a>)\nresults with the nuclei data stored in the object. The merge is performed based\non object IDs, allowing joint analysis of nuclei features and IS features.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>IS_data : pd.DataFrame\n    DataFrame containing IS data results.</p>\n\n<p>IS_features : list, optional\n    List of features to extract from the IS data. Default is an empty list.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>The merged data will be stored in the attribute <code>self.nuclei_IS_data</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">IS_data</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>, </span><span class=\"param\"><span class=\"n\">IS_features</span><span class=\"p\">:</span> <span class=\"nb\">list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.get_data_with_IS", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.get_data_with_IS", "kind": "function", "doc": "<p>Retrieve nuclei results for a single project including IS data.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pd.DataFrame or None\n    DataFrame containing nuclei results merged with IS (Image Stream) data\n    added via <code>self.add_IS_data()</code>. Returns None if no IS data has been added.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.get_data", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.get_data", "kind": "function", "doc": "<p>Retrieve nuclei results for a single project as a pandas DataFrame.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pd.DataFrame\n    DataFrame containing nuclei analysis results for the experiment.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.save_nuc_project", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.save_nuc_project", "kind": "function", "doc": "<p>Save nuclei results as a JSON file with a *.nuc extension.</p>\n\n<p>The saved data can later be loaded using the <code>cls.load_nuc_dict()</code> method.\nResults must be obtained from the <code>NucleiFinder</code> class using\n<code>series_analysis_nuclei()</code> or <code>series_analysis_chromatinization()</code> methods.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str, optional\n    Directory where the results will be saved. Default is the current working directory.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.save_results_df", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.save_results_df", "kind": "function", "doc": "<p>Save nuclei results for a single project as a CSV file.</p>\n\n<p>Results must be obtained from the <code>NucleiFinder</code> class using\n<code>series_analysis_nuclei()</code> or <code>series_analysis_chromatinization()</code> methods.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str, optional\n    Directory where the CSV file will be saved. Default is the current working directory.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.save_results_df_with_IS", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.save_results_df_with_IS", "kind": "function", "doc": "<p>Save nuclei results with IS data for a single project as a CSV file.</p>\n\n<p>Results must be obtained from the <code>NucleiFinder</code> class using\n<code>series_analysis_nuclei()</code> or <code>series_analysis_chromatinization()</code> methods.\nIS data should have been added via <code>self.add_IS_data()</code>.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str, optional\n    Directory where the CSV file will be saved. Default is the current working directory.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.add_experiment", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.add_experiment", "kind": "function", "doc": "<p>Add additional NucleiDataManagement objects from other experiments for concatenation.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>data_list : list\n    List of <code>NucleiDataManagement</code> objects from separate experiments to be added.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">data_list</span><span class=\"p\">:</span> <span class=\"nb\">list</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.get_mutual_experiments_data", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.get_mutual_experiments_data", "kind": "function", "doc": "<p>Retrieve concatenated NucleiDataManagement data from other added experiments.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>inc_is : bool, optional\n    Whether to include IS (Image Stream) data, if it was added to each experiment. Default is False.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pd.DataFrame\n    Concatenated nuclei data (with or without IS data) from all added experiments.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">inc_is</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.NucleiDataManagement.save_mutual_experiments", "modulename": "jimg_ncd.nuclei", "qualname": "NucleiDataManagement.save_mutual_experiments", "kind": "function", "doc": "<p>Save concatenated NucleiDataManagement data from added experiments as a CSV file.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>inc_is : bool, optional\n    Whether to include IS (Image Stream) data, if it was added to each experiment. Default is False.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span>, </span><span class=\"param\"><span class=\"n\">inc_is</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis", "kind": "class", "doc": "<p>A class for performing multivariate analysis, dimensionality reduction,\nclustering, and differential feature analysis (DFA) on biological or\nexperimental datasets.</p>\n\n<p>This class provides tools for:</p>\n\n<ul>\n<li>Scaling and PCA of input data</li>\n<li>UMAP embedding and DBSCAN clustering</li>\n<li>Differential Feature Analysis across groups</li>\n<li>Proportion analysis and plotting</li>\n<li>Data selection and merging with metadata</li>\n</ul>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>input_data : pd.DataFrame\n    The primary dataset containing features for analysis.</p>\n\n<p>input_metadata : pd.DataFrame\n    Metadata corresponding to the input data, including identifiers and group labels.</p>\n\n<p>tmp_data : pd.DataFrame\n    Temporary copy of the input data, used for feature selection and filtering.</p>\n\n<p>tmp_metadata : pd.DataFrame\n    Temporary copy of metadata, used for filtered or subsetted operations.</p>\n\n<p>scaled_data : np.ndarray or None\n    Scaled version of the temporary dataset (<code>tmp_data</code>), updated after <code>data_scale()</code>.</p>\n\n<p>PCA_results : np.ndarray or None\n    Results of PCA transformation applied on scaled data.</p>\n\n<p>var_data : np.ndarray or None\n    Explained variance ratio from PCA.</p>\n\n<p>knee_plot : matplotlib.figure.Figure or None\n    Figure of cumulative explained variance for PCA components.</p>\n\n<p>UMAP_data : np.ndarray or None\n    Embedding results from UMAP dimensionality reduction.</p>\n\n<p>UMAP_plot : dict\n    Dictionary containing UMAP plots. Keys: 'static' (matplotlib) and 'html' (plotly).</p>\n\n<p>dblabels : list or None\n    Cluster labels assigned by DBSCAN after UMAP embedding.</p>\n\n<p>explained_variance_ratio : np.ndarray or None\n    Explained variance ratio of PCA components.</p>\n\n<p>DFA_results : pd.DataFrame or None\n    Results of Differential Feature Analysis (DFA).</p>\n\n<p>proportion_stats : pd.DataFrame or None\n    Statistics from proportion analysis.</p>\n\n<p>proportion_plot : matplotlib.figure.Figure or None\n    Figure of proportion analysis results.</p>\n\n<h2 id=\"methods\">Methods</h2>\n\n<p>resest_project():\n    Reset all temporary and analysis results to initial state.</p>\n\n<p>load_data(data, ids_col='id_name', set_col='set'):\n    Class method to load data and metadata and initialize the object.</p>\n\n<p>groups:\n    Property returning available groups in the metadata.</p>\n\n<p>get_DFA(), get_PCA(), get_knee_plot(), get_var_data(), get_scaled_data():\n    Methods to retrieve previously computed results.</p>\n\n<p>UMAP(), db_scan(), UMAP_on_clusters():\n    Methods for dimensionality reduction and clustering visualization.</p>\n\n<p>DFA(meta_group_by='sets', sets={}, n_proc=5):\n    Perform Differential Feature Analysis.</p>\n\n<p>proportion_analysis(grouping_col='sets', val_col='nuclei_per_img', ...):\n    Perform and plot proportion analysis across groups.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.__init__", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.__init__", "kind": "function", "doc": "<p>Initialize a GroupAnalysis instance with data and metadata.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>input_data : pd.DataFrame\n    Dataset containing features for analysis. Rows represent samples and columns represent features.</p>\n\n<p>input_metadata : pd.DataFrame\n    Metadata corresponding to <code>input_data</code>, including sample identifiers and group labels.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">input_data</span>, </span><span class=\"param\"><span class=\"n\">input_metadata</span></span>)</span>"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.input_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.input_data", "kind": "variable", "doc": "<p>Stored input dataset for analysis.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.input_metadata", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.input_metadata", "kind": "variable", "doc": "<p>Stored metadata associated with <code>input_data</code>.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.tmp_metadata", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.tmp_metadata", "kind": "variable", "doc": "<p>Temporary copy of <code>input_data</code> used for filtering, selection, or scaling.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.tmp_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.tmp_data", "kind": "variable", "doc": "<p>Temporary copy of <code>input_metadata</code> used for filtered operations.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.scaled_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.scaled_data", "kind": "variable", "doc": "<p>Stored scaled version of <code>tmp_data</code> after normalization or standardization.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.PCA_results", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.PCA_results", "kind": "variable", "doc": "<p>Stored results of PCA transformation applied on <code>scaled_data</code>.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.var_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.var_data", "kind": "variable", "doc": "<p>Sotred explained variance ratio for PCA components.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.knee_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.knee_plot", "kind": "variable", "doc": "<p>Figure showing cumulative explained variance for PCA.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.UMAP_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.UMAP_data", "kind": "variable", "doc": "<p>Stored embedding coordinates from UMAP dimensionality reduction.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.UMAP_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.UMAP_plot", "kind": "variable", "doc": "<p>Stored dictionary containing UMAP plots: 'static' (matplotlib) and 'html' (plotly).</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.dblabels", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.dblabels", "kind": "variable", "doc": "<p>Stored cluster labels assigned by DBSCAN after UMAP embedding.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.explained_variance_ratio", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.explained_variance_ratio", "kind": "variable", "doc": "<p>Stored explained variance ratio of PCA components.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.DFA_results", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.DFA_results", "kind": "variable", "doc": "<p>Stored Differential Feature Analysis (DFA) results.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.proportion_stats", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.proportion_stats", "kind": "variable", "doc": "<p>Stored statistics from proportion analysis of groups.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.proportion_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.proportion_plot", "kind": "variable", "doc": "<p>Figure visualizing proportion analysis results.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.resest_project", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.resest_project", "kind": "function", "doc": "<p>Resets the project state by clearing or reinitializing various attributes.</p>\n\n<p>This method resets the following attributes to initial values:</p>\n\n<ul>\n<li><code>tmp_metadata</code></li>\n<li><code>tmp_data</code></li>\n<li><code>scaled_data</code></li>\n<li><code>PCA_results</code></li>\n<li><code>var_data</code></li>\n<li><code>knee_plot</code></li>\n<li><code>UMAP_data</code></li>\n<li><code>UMAP_plot</code></li>\n<li><code>dblabels</code></li>\n<li><code>explained_variance_ratio</code></li>\n<li><code>DFA_results</code></li>\n</ul>\n\n<p>This method is typically called to reinitialize the project data and results, preparing the system for new computations or project resets.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.load_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.load_data", "kind": "function", "doc": "<p>Load data and initialize the class by storing both the feature data and metadata.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>data : pd.DataFrame\n    Input dataset used for group analysis. Must contain both feature columns and\n    metadata columns specified by <code>ids_col</code> and <code>set_col</code>.</p>\n\n<p>ids_col : str, optional\n    Name of the column containing unique object identifiers.\n    Default is <code>'id_name'</code>.</p>\n\n<p>set_col : str, optional\n    Name of the column specifying group or set assignment for each object.\n    Default is <code>'set'</code>.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>This method performs in-place initialization of the class and does not return\na separate object. All loaded data and metadata become available through the\nclass attributes for downstream analysis.</p>\n\n<p>This method updates internal class attributes:</p>\n\n<ul>\n<li><p><strong>input_data</strong> : pd.DataFrame\nCleaned feature table with index set to object IDs.</p></li>\n<li><p><strong>tmp_data</strong> : pd.DataFrame\nCopy of <code>input_data</code> used for temporary operations.</p></li>\n<li><p><strong>input_metadata</strong> : pd.DataFrame\nMetadata containing object IDs and group assignments.</p></li>\n<li><p><strong>tmp_metadata</strong> : pd.DataFrame\nCopy of <code>input_metadata</code> for temporary operations.</p></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">cls</span>, </span><span class=\"param\"><span class=\"n\">data</span>, </span><span class=\"param\"><span class=\"n\">ids_col</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;id_name&#39;</span>, </span><span class=\"param\"><span class=\"n\">set_col</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;set&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.groups", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.groups", "kind": "variable", "doc": "<p>Return information about available groups in the metadata for <code>self.DFA</code>.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    Dictionary mapping each metadata column name to a list of unique groups\n    available in that column.</p>\n"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_DFA", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_DFA", "kind": "function", "doc": "<p>Retrieve the DFA results produced by the <code>DFA()</code> method.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pd.DataFrame\n    The DFA results stored in <code>self.DFA_results</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_PCA", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_PCA", "kind": "function", "doc": "<p>Retrieve the PCA results produced by the <code>PCA()</code> method.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    The PCA results stored in <code>self.PCA_results</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_knee_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_knee_plot", "kind": "function", "doc": "<p>Retrieve the knee plot of cumulative explained variance generated by the <code>var_plot()</code> method.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>show : bool, optional\n    If <code>True</code> (default), the knee plot is displayed.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>matplotlib.figure.Figure\n    The figure object containing the knee plot.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">show</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_var_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_var_data", "kind": "function", "doc": "<p>Retrieve the explained variance data from the <code>var_plot()</code> method.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Array containing the explained variance values stored in <code>self.var_data</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_scaled_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_scaled_data", "kind": "function", "doc": "<p>Retrieve the scaled data produced by the <code>data_scale()</code> method.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Scaled data stored in <code>self.scaled_data</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_UMAP_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_UMAP_data", "kind": "function", "doc": "<p>Retrieve the UMAP-transformed data generated by the <code>UMAP()</code> method.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    UMAP-embedded data stored in <code>self.UMAP_data</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_UMAP_plots", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_UMAP_plots", "kind": "function", "doc": "<p>Retrieve UMAP plots generated by the <code>UMAP()</code> and/or <code>UMAP_on_clusters()</code> methods.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>show : bool, optional\n    Whether to display the UMAP plots. Default is True.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict of matplotlib.figure.Figure\n    A dictionary containing the UMAP plots. Keys correspond to plot names, and values are the figure objects.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">plot_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;static&#39;</span>, </span><span class=\"param\"><span class=\"n\">show</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.select_data", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.select_data", "kind": "function", "doc": "<p>Select specific features (columns) from the dataset for further analysis.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>features_list : list of str, optional\n    List of feature names (column names) to select from the dataset. Default is an empty list, which selects no features.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>Modifies the <code>self.tmp_data</code> attribute to contain only the selected features from <code>self.input_data</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">features_list</span><span class=\"p\">:</span> <span class=\"nb\">list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.data_scale", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.data_scale", "kind": "function", "doc": "<p>Scale the data using standardization (z-score normalization).</p>\n\n<p>This method applies <code>StandardScaler</code> from scikit-learn to the temporary dataset (<code>self.tmp_data</code>) and stores the scaled data.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>Modifies the <code>self.scaled_data</code> attribute to contain the standardized version of <code>self.tmp_data</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.PCA", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.PCA", "kind": "function", "doc": "<p>Perform Principal Component Analysis (PCA) on the scaled data.</p>\n\n<p>This method reduces the dimensionality of <code>self.scaled_data</code> while retaining the maximum variance.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>Modifies the <code>self.PCA_results</code> attribute with the PCA-transformed data.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.var_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.var_plot", "kind": "function", "doc": "<p>Plot the cumulative explained variance of the principal components from PCA.</p>\n\n<p>This method visualizes the cumulative explained variance to help determine how many components capture most of the variance.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>Stores results in the following attributes:</p>\n\n<ul>\n<li><code>self.var_data</code> (np.ndarray): Explained variance ratio for each principal component.</li>\n<li><code>self.knee_plot</code> (matplotlib.figure.Figure): Figure of the cumulative explained variance plot.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.UMAP", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.UMAP", "kind": "function", "doc": "<p>Perform UMAP (Uniform Manifold Approximation and Projection) dimensionality reduction on PCA results.</p>\n\n<p>UMAP is applied to the top principal components, optionally using metadata labels to influence the embedding. Generates both 2D/3D embeddings and visualizations.</p>\n\n<p>Parameters</p>\n\n<hr />\n\n<p>PC_num : int, optional\n     Number of top principal components to use for UMAP embedding. Default is 5.</p>\n\n<p>factorize_with_metadata : bool, optional\n     Whether to use metadata (e.g., 'sets') to factorize UMAP embedding. Default is False.</p>\n\n<p>harmonize_sets : bool, optional\n     If True, applies harmonization across data sets before computing the UMAP embedding.\n     Default is True.</p>\n\n<p>n_neighbors : int, optional\n     Number of neighbors for UMAP to compute local structure. Default is 25.</p>\n\n<p>min_dist : float, optional\n     Minimum distance between points in the low-dimensional embedding. Default is 0.01.</p>\n\n<p>n_components : int, optional\n     Number of dimensions for the UMAP embedding. Default is 2.</p>\n\n<p>width : int, optional\n     Width of the generated matplotlib figures (in inches). Default is 8.</p>\n\n<p>height : int, optional\n     Height of the generated matplotlib figures (in inches). Default is 6.</p>\n\n<p>Notes</p>\n\n<hr />\n\n<p>Stores results in the following attributes:</p>\n\n<ul>\n<li><code>self.UMAP_data</code> (np.ndarray): UMAP-transformed data.</li>\n<li><code>self.UMAP_plot['static']['PrimaryUMAP']</code> (matplotlib.figure.Figure): Static visualization of UMAP embedding.</li>\n<li><code>self.UMAP_plot['html']['PrimaryUMAP']</code> (plotly.graph_objs.Figure): Interactive Plotly visualization of UMAP embedding.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">PC_num</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">factorize_with_metadata</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">harmonize_sets</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">n_neighbors</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">25</span>,</span><span class=\"param\">\t<span class=\"n\">min_dist</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">n_components</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>,</span><span class=\"param\">\t<span class=\"n\">width</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">8</span>,</span><span class=\"param\">\t<span class=\"n\">height</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">6</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.db_scan", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.db_scan", "kind": "function", "doc": "<p>Perform DBSCAN clustering on UMAP-transformed data.</p>\n\n<p>DBSCAN identifies clusters based on density, labeling points in dense regions as clusters and others as noise.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>eps : float, optional\n    Maximum distance between two points to be considered neighbors. Default is 0.5.</p>\n\n<p>min_samples : int, optional\n    Minimum number of points required to form a dense region (cluster). Default is 10.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>Stores the results in the following attribute:</p>\n\n<ul>\n<li><code>self.dblabels</code> (list of str): Cluster labels assigned by DBSCAN for each point in the UMAP embedding.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">eps</span><span class=\"o\">=</span><span class=\"mf\">0.5</span>, </span><span class=\"param\"><span class=\"n\">min_samples</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.UMAP_on_clusters", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.UMAP_on_clusters", "kind": "function", "doc": "<p>Generate UMAP visualizations for clusters filtered by a minimum entity threshold.</p>\n\n<p>This method removes clusters containing fewer than <code>min_entities</code> observations\nand produces two UMAP visualizations:</p>\n\n<ol>\n<li><strong>Cluster UMAP</strong> \u2013 points colored by cluster assignment only.</li>\n<li><strong>Cluster \u00d7 Set UMAP</strong> \u2013 points colored by the combination of cluster and set identifier.</li>\n</ol>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>min_entities : int, optional\n    Minimum number of entities required for a cluster to be included\n    in the visualization. Default is 50.</p>\n\n<p>width : int, optional\n    Width of the generated matplotlib figures (in inches). Default is 8.</p>\n\n<p>height : int, optional\n    Height of the generated matplotlib figures (in inches). Default is 6.</p>\n\n<p>n_per_col : int, optional\n    Maximum number of legend entries per column. Default is 20.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>This method updates the following attributes:</p>\n\n<ul>\n<li><p><code>self.UMAP_plot['static']['ClusterUMAP']</code><br />\nStatic matplotlib figure of the filtered cluster-only UMAP.</p></li>\n<li><p><code>self.UMAP_plot['html']['ClusterUMAP']</code><br />\nInteractive HTML version of the cluster-only UMAP.</p></li>\n<li><p><code>self.UMAP_plot['static']['ClusterXSetsUMAP']</code><br />\nStatic matplotlib figure showing clusters combined with set identifiers.</p></li>\n<li><p><code>self.UMAP_plot['html']['ClusterXSetsUMAP']</code><br />\nInteractive HTML version of the cluster \u00d7 set visualization.</p></li>\n<li><p><code>self.tmp_data</code><br />\nDataset filtered to include only clusters meeting the <code>min_entities</code> threshold.</p></li>\n<li><p><code>self.tmp_metadata</code><br />\nMetadata corresponding to the filtered dataset.</p></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">min_entities</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">50</span>,</span><span class=\"param\">\t<span class=\"n\">width</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">8</span>,</span><span class=\"param\">\t<span class=\"n\">height</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">6</span>,</span><span class=\"param\">\t<span class=\"n\">n_per_col</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.full_info", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.full_info", "kind": "function", "doc": "<p>Merge data with metadata based on the 'full_id' column.</p>\n\n<p>This method combines <code>self.tmp_data</code> and <code>self.tmp_metadata</code> into a single DataFrame if the metadata contains a 'full_id' column. If 'full_id' is not present, the method prints a warning to complete the preprocessing pipeline.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pd.DataFrame or None\n    Merged DataFrame containing both data and metadata if 'full_id' exists; otherwise, None.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.DFA", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.DFA", "kind": "function", "doc": "<p>Perform Differential Feature Analysis (DFA) on specified data groups.</p>\n\n<p>This method conducts DFA using a grouping factor from metadata and a dictionary of sets for comparison. It allows for the identification of significant differences across defined sets.</p>\n\n<p>The analysis includes:</p>\n\n<ul>\n<li>Mann\u2013Whitney U test</li>\n<li>Percentage of non-zero values</li>\n<li>Means and standard deviations</li>\n<li>Effect size metric (ESM)</li>\n<li>Benjamini\u2013Hochberg FDR correction</li>\n<li>Fold-change and log2 fold-change</li>\n</ul>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>meta_group_by : str, optional\n    Metadata column used for grouping during the analysis.\n    Default is <code>'sets'</code>.\n    To view available grouping categories, use <code>self.groups</code>.</p>\n\n<p>sets : dict, optional\n    Dictionary defining groups for pairwise comparison.\n    Keys correspond to group names, and values are lists of labels\n    belonging to each group.</p>\n\n<pre><code>Example\n-------\n&gt;&gt;&gt; sets = {\n...     'healthy': ['21q'],\n...     'disease': ['71q', '77q', '109q']\n... }\nIn this configuration, the *healthy* group is compared against the\naggregated *disease* groups.\n</code></pre>\n\n<p>n_proc : int, optional\n    Number of CPU cores used for parallel processing.\n    Default is <code>5</code>.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pandas.DataFrame or None\n    A DataFrame containing statistical results for each feature, including:</p>\n\n<pre><code>- ``feature`` : str\n- ``p_val`` : float\n- ``adj_pval`` : float\n- ``pct_valid`` : float\n- ``pct_ctrl`` : float\n- ``avg_valid`` : float\n- ``avg_ctrl`` : float\n- ``sd_valid`` : float\n- ``sd_ctrl`` : float\n- ``esm`` : float\n- ``FC`` : float\n- ``log(FC)`` : float\n- ``norm_diff`` : float\n- ``valid_group`` : str\n- ``-log(p_val)`` : float\n\nIf ``sets`` is ``None``, results for each group are concatenated.\n\nReturns ``None`` in case of errors or invalid parameters.\n</code></pre>\n\n<h2 id=\"notes\">Notes</h2>\n\n<ul>\n<li>Columns containing only zeros are automatically removed.</li>\n<li>p-values equal for both groups produce <code>p_val = 1</code>.</li>\n<li>Benjamini\u2013Hochberg correction is applied separately within each group comparison.</li>\n<li>Fold-change is stabilized using a small, data-derived <code>low_factor</code>.</li>\n<li>Uses <code>Mann\u2013Whitney U</code> test with <code>alternative='two-sided'</code>.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">meta_group_by</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;sets&#39;</span>, </span><span class=\"param\"><span class=\"n\">sets</span><span class=\"p\">:</span> <span class=\"nb\">dict</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>, </span><span class=\"param\"><span class=\"n\">n_proc</span><span class=\"o\">=</span><span class=\"mi\">5</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.heatmap_DFA", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.heatmap_DFA", "kind": "function", "doc": "<p>Generate a heatmap of the top DFA features filtered by p-value and log fold change.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>p_value : float or int, optional\n    Significance threshold used to filter features by their p-value.\n    Only features with p_val &lt; p_value are included. Default is 0.05.</p>\n\n<p>top_n : int, optional\n    Number of top features selected per group based on the 'esm' score.\n    Default is 5.</p>\n\n<p>scale : bool, optional\n    Whether to apply Min\u2013Max scaling to heatmap values across features.\n    Default is False.</p>\n\n<p>clustering : str or None, optional\n    Hierarchical clustering method applied to rows/columns of the heatmap.\n    If None, clustering is disabled. Default is 'ward'.</p>\n\n<p>figsize : tuple, optional\n    Size of the resulting matplotlib figure. Default is (10, 5).</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<ul>\n<li>Only features with a positive log fold change ('log(FC)' &gt; 0) are considered.</li>\n<li>Heatmap values represent -log10(p_value) for visualization.</li>\n<li>If <code>scale=True</code>, values are normalized using Min\u2013Max scaling.</li>\n<li>The generated figure is displayed and stored in <code>self.DFA_plot</code>.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">p_value</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span>,</span><span class=\"param\">\t<span class=\"n\">top_n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">scale</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">clustering</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ward&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">)</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_DFA_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_DFA_plot", "kind": "function", "doc": "<p>Retrieve the heatmap figure generated by <code>heatmap_DFA()</code>.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>show : bool, optional\n    Whether to display the stored heatmap figure. Default is True.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>matplotlib.figure.Figure\n    The figure object containing the DFA heatmap.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">show</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.print_avaiable_features", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.print_avaiable_features", "kind": "function", "doc": "<p>Print the available features (columns) in the current dataset.</p>\n\n<p>This method lists all column names in <code>self.tmp_data</code> to help identify which features are available for analysis.</p>\n\n<h2 id=\"example\">Example</h2>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">group_analysis</span><span class=\"o\">.</span><span class=\"n\">print_avaiable_features</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.proportion_analysis", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.proportion_analysis", "kind": "function", "doc": "<p>Perform proportion analysis by comparing the distribution of values across groups.</p>\n\n<p>This method analyzes the distribution of values (e.g., nuclei counts) across different groups defined in the dataset. It can optionally group categories, omit specific values, and produces both statistical results and a visualization.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>grouping_col : str, optional\n    Column to group by. Default is 'sets'.</p>\n\n<p>val_col : str, optional\n    Column containing the values to analyze. Default is 'nuclei_per_img'.</p>\n\n<p>grouping_dict : dict or None, optional\n    Dictionary mapping new group names to categories in <code>grouping_col</code>. If None, analysis is based on the original groups.</p>\n\n<p>omit : str, list, or None, optional\n    Values to exclude from the analysis. Default is None.</p>\n\n<h2 id=\"attributes\">Attributes</h2>\n\n<p>proportion_stats : pd.DataFrame\n    DataFrame containing chi-square test results for pairwise group comparisons.</p>\n\n<p>proportion_plot : matplotlib.figure.Figure\n    Plot visualizing the proportions across groups.</p>\n\n<h2 id=\"example\">Example</h2>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">group_analysis</span><span class=\"o\">.</span><span class=\"n\">proportion_analysis</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">grouping_col</span><span class=\"o\">=</span><span class=\"s1\">&#39;sets&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">val_col</span><span class=\"o\">=</span><span class=\"s1\">&#39;nuclei_per_img&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">grouping_dict</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;Group A&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"s1\">&#39;Group B&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">]},</span>\n<span class=\"gp\">... </span>    <span class=\"n\">omit</span><span class=\"o\">=</span><span class=\"mi\">5</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">grouping_col</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;sets&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">val_col</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;nuclei_per_img&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">grouping_dict</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">omit</span><span class=\"o\">=</span><span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_proportion_plot", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_proportion_plot", "kind": "function", "doc": "<p>Retrieve the proportion bar plot generated by the <code>proportion_analysis()</code> method.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>show : bool, optional\n    Whether to display the proportion bar plot. Default is True.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>matplotlib.figure.Figure\n    The figure object containing the proportion bar plot.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">show</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.nuclei.GroupAnalysis.get_proportion_stats", "modulename": "jimg_ncd.nuclei", "qualname": "GroupAnalysis.get_proportion_stats", "kind": "function", "doc": "<p>Retrieve the proportion statistics computed by the <code>proportion_analysis()</code> method.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pd.DataFrame\n    The proportion statistics stored in <code>self.proportion_stats</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils", "modulename": "jimg_ncd.utils", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "jimg_ncd.utils.umap_html", "modulename": "jimg_ncd.utils", "qualname": "umap_html", "kind": "function", "doc": "<p>Create an interactive HTML UMAP scatter plot.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>umap_result : pandas.DataFrame or dict-like\n    UMAP embedding containing at least:\n    - <code>0</code> : array-like, UMAP dimension 1\n    - <code>1</code> : array-like, UMAP dimension 2\n    - <code>'clusters'</code> : array-like, assigned cluster labels</p>\n\n<p>width : int, optional\n    Width of the output figure in pixels. Default is 1000.</p>\n\n<p>height : int, optional\n    Height of the output figure in pixels. Default is 1200.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>plotly.graph_objs._figure.Figure\n    Interactive Plotly scatter plot object visualizing UMAP with colored clusters.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">umap_result</span>, </span><span class=\"param\"><span class=\"n\">width</span><span class=\"o\">=</span><span class=\"mi\">1000</span>, </span><span class=\"param\"><span class=\"n\">height</span><span class=\"o\">=</span><span class=\"mi\">1200</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.umap_static", "modulename": "jimg_ncd.utils", "qualname": "umap_static", "kind": "function", "doc": "<p>Create a static matplotlib UMAP scatter plot.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>umap_result : pandas.DataFrame or dict-like\n    UMAP projection containing:\n    - <code>0</code> : array-like, UMAP dimension 1\n    - <code>1</code> : array-like, UMAP dimension 2\n    - <code>'clusters'</code> : array-like, cluster assignments</p>\n\n<p>width : float, optional\n    Width of the figure in inches. Default is 10.</p>\n\n<p>height : float, optional\n    Height of the figure in inches. Default is 13.</p>\n\n<p>n_per_col : int, optional\n    Maximum number of legend entries per column. Default is 20.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>matplotlib.figure.Figure\n    Static matplotlib figure representing the UMAP embedding with clusters.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">umap_result</span>, </span><span class=\"param\"><span class=\"n\">width</span><span class=\"o\">=</span><span class=\"mi\">10</span>, </span><span class=\"param\"><span class=\"n\">height</span><span class=\"o\">=</span><span class=\"mi\">13</span>, </span><span class=\"param\"><span class=\"n\">n_per_col</span><span class=\"o\">=</span><span class=\"mi\">20</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.test_data", "modulename": "jimg_ncd.utils", "qualname": "test_data", "kind": "function", "doc": "<p>Download and extract test data from Google Drive.</p>\n\n<p>This function downloads a compressed archive containing example test data\nand extracts it into the specified directory. The data is fetched using\na direct Google Drive link. If the download or extraction fails, an\nerror message is printed.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str, optional\n    Destination directory where the test dataset will be downloaded and\n    extracted. Defaults to the current working directory.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<ul>\n<li>The downloaded file is named <code>test_data.tar.gz</code>.</li>\n<li>The archive is extracted into <code>&lt;path&gt;/test_data</code>.</li>\n<li>In case of any failure (download or extraction), the function prints\nan informative message instead of raising an exception.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.prop_plot", "modulename": "jimg_ncd.utils", "qualname": "prop_plot", "kind": "function", "doc": "<p>Create a stacked bar plot of proportional data with post-hoc significance annotations.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>df_pivot : pandas.DataFrame\n    Pivot table where rows represent categories (e.g., compartments) and columns\n    represent groups. Values are counts or frequencies.</p>\n\n<p>chi_df : pandas.DataFrame\n    DataFrame containing pairwise Chi-square test results with an added\n    'Significance_Label' column (e.g., '<strong><em>', '</strong>', '</em>', 'ns') for each pair\n    of groups. Typically output from <code>chi_pairs</code> and <code>get_significance_label</code>.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>matplotlib.figure.Figure\n    The Matplotlib figure object containing the stacked bar plot.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<ul>\n<li>The function converts raw counts to percentages per group for visualization.</li>\n<li>Each pairwise comparison and its significance label is displayed as a text box\nnext to the plot.</li>\n<li>Colors are assigned using the 'viridis' colormap by default.</li>\n<li>The plot is configured for clarity with labeled axes, legend, and appropriately\nsized text.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">df_pivot</span>, </span><span class=\"param\"><span class=\"n\">chi_df</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.get_significance_label", "modulename": "jimg_ncd.utils", "qualname": "get_significance_label", "kind": "function", "doc": "<p>Return a standard significance label based on a p-value.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>p_value : float\n    The p-value for which the significance label should be determined.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>str\n    A significance marker commonly used in statistical reporting:</p>\n\n<pre><code>- '***' : p &lt; 0.001\n- '**'  : p &lt; 0.01\n- '*'   : p &lt; 0.05\n- 'ns'  : not significant (p \u2265 0.05)\n</code></pre>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>This helper function is typically used for annotating statistical test\nresults in tables or visualizations. Thresholds follow conventional\nstatistical notation for significance levels.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">p_value</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.chi_pairs", "modulename": "jimg_ncd.utils", "qualname": "chi_pairs", "kind": "function", "doc": "<p>Compute pairwise Chi-square tests for all combinations of groups in a pivoted dataframe.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>df_pivot : pandas.DataFrame\n    A pivot table where rows represent categories and columns represent groups.\n    Values should be counts (frequencies). The function will add +1 to each cell\n    to avoid zero counts during chi-square computation.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pandas.DataFrame\n    A DataFrame containing pairwise Chi-square test results with the following columns:\n    - 'Group 1' : str\n        Name of the first group in the pair.\n    - 'Group 2' : str\n        Name of the second group in the pair.\n    - 'Chi\u00b2' : float\n        The Chi-square statistic for the comparison.\n    - 'p-value' : float\n        The p-value of the Chi-square test.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>The function compares every possible pair of columns using <code>scipy.stats.chi2_contingency</code>.\nYates' correction is applied by default unless disabled in the SciPy version used.\nA value of 1 is added to all cells to avoid issues with zero frequencies.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">df_pivot</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.statistic", "modulename": "jimg_ncd.utils", "qualname": "statistic", "kind": "function", "doc": "<p>Compute statistical comparison between cell groups or clusters.</p>\n\n<p>This function performs differential feature analysis between either:\n(1) every group vs. all other groups (default mode), or\n(2) two user-defined groups specified in <code>sets</code>.</p>\n\n<p>The analysis includes:</p>\n\n<ul>\n<li>Mann\u2013Whitney U test</li>\n<li>Percentage of non-zero values</li>\n<li>Means and standard deviations</li>\n<li>Effect size metric (ESM)</li>\n<li>Benjamini\u2013Hochberg FDR correction</li>\n<li>Fold-change and log2 fold-change</li>\n</ul>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>input_df : pandas.DataFrame\n    Input feature matrix where rows represent features and columns represent cells.\n    The function transposes this table internally, treating columns as features.</p>\n\n<p>sets : dict or None, optional\n    Mode selection:\n    - <code>None</code> (default): each unique label in <code>metadata['sets']</code> is compared\n      against all remaining groups.\n    - <code>dict</code>: must contain exactly two keys, each mapping to a list of labels\n      belonging to each comparison group. Example:\n      <code>{'A': ['T1', 'T2'], 'B': ['C1', 'C2']}</code>.</p>\n\n<p>metadata : pandas.DataFrame, optional\n    Metadata containing at least a column <code>'sets'</code> with group labels\n    corresponding to columns of <code>input_df</code>.</p>\n\n<p>n_proc : int, optional\n    Number of parallel processes used for statistical computation.\n    Default is <code>10</code>.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>pandas.DataFrame or None\n    A DataFrame containing statistical results for each feature, including:</p>\n\n<pre><code>- ``feature`` : str\n- ``p_val`` : float\n- ``adj_pval`` : float\n- ``pct_valid`` : float\n- ``pct_ctrl`` : float\n- ``avg_valid`` : float\n- ``avg_ctrl`` : float\n- ``sd_valid`` : float\n- ``sd_ctrl`` : float\n- ``esm`` : float\n- ``FC`` : float\n- ``log(FC)`` : float\n- ``norm_diff`` : float\n- ``valid_group`` : str\n- ``-log(p_val)`` : float\n\nIf ``sets`` is ``None``, results for each group are concatenated.\n\nReturns ``None`` in case of errors or invalid parameters.\n</code></pre>\n\n<h2 id=\"notes\">Notes</h2>\n\n<ul>\n<li>Columns containing only zeros are automatically removed.</li>\n<li>p-values equal for both groups produce <code>p_val = 1</code>.</li>\n<li>Benjamini\u2013Hochberg correction is applied separately within each group comparison.</li>\n<li>Fold-change is stabilized using a small, data-derived <code>low_factor</code>.</li>\n<li>Uses <code>Mann\u2013Whitney U</code> test with <code>alternative='two-sided'</code>.</li>\n</ul>\n\n<h2 id=\"raises\">Raises</h2>\n\n<p>None\n    All exceptions are caught internally and printed as messages.</p>\n\n<h2 id=\"examples\">Examples</h2>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">meta</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">({</span><span class=\"s1\">&#39;sets&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">]})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stat</span> <span class=\"o\">=</span> <span class=\"n\">statistic</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">,</span> <span class=\"n\">metadata</span><span class=\"o\">=</span><span class=\"n\">meta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stat</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Compare two groups explicitly</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sets</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;A&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">&#39;Type1&#39;</span><span class=\"p\">],</span> <span class=\"s1\">&#39;B&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">&#39;Type2&#39;</span><span class=\"p\">]}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stat</span> <span class=\"o\">=</span> <span class=\"n\">statistic</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">,</span> <span class=\"n\">sets</span><span class=\"o\">=</span><span class=\"n\">sets</span><span class=\"p\">,</span> <span class=\"n\">metadata</span><span class=\"o\">=</span><span class=\"n\">meta</span><span class=\"p\">,</span> <span class=\"n\">n_proc</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">input_df</span>, </span><span class=\"param\"><span class=\"n\">sets</span><span class=\"o\">=</span><span class=\"kc\">None</span>, </span><span class=\"param\"><span class=\"n\">metadata</span><span class=\"o\">=</span><span class=\"kc\">None</span>, </span><span class=\"param\"><span class=\"n\">n_proc</span><span class=\"o\">=</span><span class=\"mi\">10</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.save_image", "modulename": "jimg_ncd.utils", "qualname": "save_image", "kind": "function", "doc": "<p>Save an image to disk.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray\n    Input image array to be saved.</p>\n\n<p>path_to_save : str\n    Output file path including the filename.\n    Must include one of the following extensions:\n    <code>.png</code>, <code>.tiff</code> or <code>.tif</code>.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>str\n    Path to the saved file.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">image</span>, </span><span class=\"param\"><span class=\"n\">path_to_save</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.load_tiff", "modulename": "jimg_ncd.utils", "qualname": "load_tiff", "kind": "function", "doc": "<p>Load a *.tiff image and ensure it is in 16-bit format.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_tiff : str\n    Path to the *.tiff file.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Loaded image stack, converted to 16-bit if necessary.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">path_to_tiff</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.z_projection", "modulename": "jimg_ncd.utils", "qualname": "z_projection", "kind": "function", "doc": "<p>Perform Z-projection on a stacked (3D) image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>tiff_object : np.ndarray\n    Input stacked 3D image (e.g., loaded with <code>load_tiff()</code>).</p>\n\n<p>projection_type : str\n    Type of Z-axis projection. Options: 'avg', 'median', 'min', 'max', 'std'.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Resulting 2D projection image.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">tiff_object</span>, </span><span class=\"param\"><span class=\"n\">projection_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;avg&#39;</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.clahe_16bit", "modulename": "jimg_ncd.utils", "qualname": "clahe_16bit", "kind": "function", "doc": "<p>Apply CLAHE (Contrast Limited Adaptive Histogram Equalization) to an image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img : np.ndarray\n    Input image.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>img : np.ndarray\n    Image after CLAHE enhancement.</p>\n\n<p>kernel : tuple\n    Size of the CLAHE tile grid used for processing, e.g., (100, 100).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">img</span>, </span><span class=\"param\"><span class=\"n\">kernal</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.equalizeHist_16bit", "modulename": "jimg_ncd.utils", "qualname": "equalizeHist_16bit", "kind": "function", "doc": "<p>Apply global histogram equalization to an image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image_eq : np.ndarray\n    Input image.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Image after global histogram equalization.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">image_eq</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.load_image", "modulename": "jimg_ncd.utils", "qualname": "load_image", "kind": "function", "doc": "<p>Load an image and convert it to 16-bit if necessary.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path : str\n    Path to the image file.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Loaded 16-bit image.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">path</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.rotate_image", "modulename": "jimg_ncd.utils", "qualname": "rotate_image", "kind": "function", "doc": "<p>Rotate an image by a specified angle.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img : np.ndarray\n    Image to rotate.</p>\n\n<p>rotate : int\n    Degree of rotation. Available options: 90, 180, 270.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Rotated image.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">img</span>, </span><span class=\"param\"><span class=\"n\">rotate</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.mirror_image", "modulename": "jimg_ncd.utils", "qualname": "mirror_image", "kind": "function", "doc": "<p>Mirror an image along specified axes.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img : np.ndarray\n    Image to mirror.</p>\n\n<p>rotate : str\n    Type of mirroring to apply. Options:\n        'h'  - horizontal mirroring\n        'v'  - vertical mirroring\n        'hv' - both horizontal and vertical mirroring</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Mirrored image.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">img</span>, </span><span class=\"param\"><span class=\"n\">rotate</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.merge_images", "modulename": "jimg_ncd.utils", "qualname": "merge_images", "kind": "function", "doc": "<p>Merge multiple image projections from different channels.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image_list : list of np.ndarray\n    List of images to merge. All images must have the same shape and size.</p>\n\n<p>intensity_factors : list of float\n    Intensity scaling factors for each image in <code>image_list</code>. Base value is 1.\n        - Values &lt; 1 decrease intensity.\n        - Values &gt; 1 increase intensity.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Merged image after applying intensity scaling.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">image_list</span><span class=\"p\">:</span> <span class=\"nb\">list</span>, </span><span class=\"param\"><span class=\"n\">intensity_factors</span><span class=\"p\">:</span> <span class=\"nb\">list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.adjust_img_16bit", "modulename": "jimg_ncd.utils", "qualname": "adjust_img_16bit", "kind": "function", "doc": "<p>Manually adjust image parameters and return the adjusted image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img : np.ndarray\n    Input image.</p>\n\n<p>color : str\n    Image color channel. Options: ['green', 'blue', 'red', 'yellow', 'magenta', 'cyan'].</p>\n\n<p>max_intensity : int\n    Upper threshold for pixel values. Pixels exceeding this value are set to <code>max_intensity</code>.</p>\n\n<p>min_intensity : int\n    Lower threshold for pixel values. Pixels below this value are set to 0.</p>\n\n<p>brightness : int, optional\n    Image brightness adjustment. Typical range: [900-2000]. Default is 1000.</p>\n\n<p>contrast : float or int, optional\n    Image contrast adjustment. Typical range: [0-5]. Default is 1.</p>\n\n<p>gamma : float or int, optional\n    Gamma correction factor. Typical range: [0-5]. Default is 1.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Adjusted image after applying brightness, contrast, gamma, and intensity thresholds.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">img</span>,</span><span class=\"param\">\t<span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">&#39;gray&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">max_intensity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">65535</span>,</span><span class=\"param\">\t<span class=\"n\">min_intenisty</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">brightness</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1000</span>,</span><span class=\"param\">\t<span class=\"n\">contrast</span><span class=\"o\">=</span><span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">gamma</span><span class=\"o\">=</span><span class=\"mf\">1.0</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.get_screan", "modulename": "jimg_ncd.utils", "qualname": "get_screan", "kind": "function", "doc": "<p>Get the current screen width and height.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>tuple of int\n    screen_width, screen_height</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.resize_to_screen_img", "modulename": "jimg_ncd.utils", "qualname": "resize_to_screen_img", "kind": "function", "doc": "<p>Resize an input image to fit the screen size, optionally scaled by a factor.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img_file : np.ndarray\n    Input image to be resized.</p>\n\n<p>factor : float, optional\n    Scaling factor applied to the screen dimensions before resizing the image. Default is 1.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Resized image that fits within the screen dimensions while maintaining aspect ratio.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">img_file</span>, </span><span class=\"param\"><span class=\"n\">factor</span><span class=\"o\">=</span><span class=\"mi\">1</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.display_preview", "modulename": "jimg_ncd.utils", "qualname": "display_preview", "kind": "function", "doc": "<p>Quickly preview an image using a display window.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray\n    Input image to be displayed.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<pre><code>The function displays the image in a window. Does not return a value.\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">image</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools", "modulename": "jimg_ncd.utils", "qualname": "ImageTools", "kind": "class", "doc": "<p>Collection of utility functions for image preprocessing, adjustment,\nmerging, and stitching.</p>\n\n<p>This class provides standalone static methods for operations such as\nhistogram equalization, CLAHE enhancement, intensity adjustments,\nimage merging based on weighted ratios, and horizontal stitching.\nThese tools are used internally by <code>ImagesManagement</code> but can also be\napplied independently for generic image-processing workflows.</p>\n\n<h2 id=\"notes\">Notes</h2>\n\n<p>All methods operate on NumPy arrays and expect images in standard\nOpenCV format. Some functions assume 16-bit images unless stated\notherwise.</p>\n\n<h2 id=\"examples\">Examples</h2>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">ImageTools</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">ImageTools</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">ImageTools</span><span class=\"o\">.</span><span class=\"n\">equalize_hist_16bit</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">merged</span> <span class=\"o\">=</span> <span class=\"n\">ImageTools</span><span class=\"o\">.</span><span class=\"n\">merge_images</span><span class=\"p\">([</span><span class=\"n\">img1</span><span class=\"p\">,</span> <span class=\"n\">img2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">])</span>\n</code></pre>\n</div>\n"}, {"fullname": "jimg_ncd.utils.ImageTools.get_screan", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.get_screan", "kind": "function", "doc": "<p>Return the current screen size.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>screen_width : int\n    Width of the screen in pixels.</p>\n\n<p>screen_height : int\n    Height of the screen in pixels.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.resize_to_screen_img", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.resize_to_screen_img", "kind": "function", "doc": "<p>Resize an input image to a scaled version of the current screen size.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>img_file : np.ndarray\n    Input image to be resized.</p>\n\n<p>factor : int\n    Scaling factor applied to the screen dimensions.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>resized_image : np.ndarray\n    Resized image adjusted to the scaled screen size.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">img_file</span>, </span><span class=\"param\"><span class=\"n\">factor</span><span class=\"o\">=</span><span class=\"mf\">0.5</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.load_JIMG_project", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.load_JIMG_project", "kind": "function", "doc": "<p>Load a JIMG project from a <code>.pjm</code> file.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>file_path : str\n    Path to the project file with <code>.pjm</code> extension.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>project : object\n    Loaded project object.</p>\n\n<h2 id=\"raises\">Raises</h2>\n\n<p>ValueError\n    If the provided file does not have a <code>.pjm</code> extension.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">project_path</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.ajd_mask_size", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.ajd_mask_size", "kind": "function", "doc": "<p>Adjusts the size of a mask to match the dimensions of a given image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray\n    Reference image whose size the mask should match. Can be 2D or 3D.</p>\n\n<p>mask : np.ndarray\n    Mask image to be resized.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Resized mask matching the input image dimensions.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">image</span>, </span><span class=\"param\"><span class=\"n\">mask</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.load_image", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.load_image", "kind": "function", "doc": "<p>Load an image from the specified file path.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_image : str\n    Path to the image file.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>image : np.ndarray\n    Loaded image as a NumPy array.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path_to_image</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.load_3D_tiff", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.load_3D_tiff", "kind": "function", "doc": "<p>Load a 3D image from a TIFF file.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_image : str\n    Path to the 3D TIFF image file.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>image : np.ndarray\n    Loaded 3D image as a NumPy array.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path_to_image</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.load_mask", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.load_mask", "kind": "function", "doc": "<p>Load a mask image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>path_to_mask : str\n    Path to the mask image file.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>mask : np.ndarray\n    Loaded mask image as a NumPy array.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">path_to_mask</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.save", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.save", "kind": "function", "doc": "<p>Save an image to disk.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray\n    Image data to be saved.</p>\n\n<p>file_name : str\n    Output file path including the desired image extension (e.g., \".png\", \".jpg\").</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">image</span>, </span><span class=\"param\"><span class=\"n\">file_name</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.drop_dict", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.drop_dict", "kind": "function", "doc": "<p>Filters elements from a dictionary based on a condition applied to a specified key.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>dictionary : dict\n    Dictionary containing lists or arrays under each key.</p>\n\n<p>key : str\n    The key in the dictionary on which the filtering condition will be applied.</p>\n\n<p>var : numeric\n    Value to compare against each element in dictionary[key].</p>\n\n<p>action : str, optional\n    Comparison operator as string: '&lt;=', '>=', '==', '&lt;', '>'.\n    Default is None, which raises an error.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>dict\n    A new dictionary with elements removed where the condition matches.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">dictionary</span>, </span><span class=\"param\"><span class=\"n\">key</span>, </span><span class=\"param\"><span class=\"n\">var</span>, </span><span class=\"param\"><span class=\"n\">action</span><span class=\"o\">=</span><span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.create_mask", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.create_mask", "kind": "function", "doc": "<p>Creates a mask image with gradated intensity values for each coordinate set in a dictionary.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>dictionary : dict\n    Dictionary containing a 'coords' key with a list of arrays of coordinates.</p>\n\n<p>image : np.ndarray\n    Base image to define the shape of the mask.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>np.ndarray\n    Mask image with uint16 gradated intensity.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">dictionary</span>, </span><span class=\"param\"><span class=\"n\">image</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "jimg_ncd.utils.ImageTools.min_max_histograme", "modulename": "jimg_ncd.utils", "qualname": "ImageTools.min_max_histograme", "kind": "function", "doc": "<p>Calculates histogram-based minimum and maximum intensity percentiles in an image.</p>\n\n<h2 id=\"parameters\">Parameters</h2>\n\n<p>image : np.ndarray\n    Input image for histogram analysis.</p>\n\n<h2 id=\"returns\">Returns</h2>\n\n<p>min_val : float\n    Minimum intensity percentile above zero.</p>\n\n<p>max_val : float\n    Maximum intensity percentile based on histogram gradient.</p>\n\n<p>df : pd.DataFrame\n    DataFrame containing quantiles, corresponding intensity values, and cumulative percents.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">image</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}];

    // mirrored in build-search-index.js (part 1)
    // Also split on html tags. this is a cheap heuristic, but good enough.
    elasticlunr.tokenizer.setSeperator(/[\s\-.;&_'"=,()]+|<[^>]*>/);

    let searchIndex;
    if (docs._isPrebuiltIndex) {
        console.info("using precompiled search index");
        searchIndex = elasticlunr.Index.load(docs);
    } else {
        console.time("building search index");
        // mirrored in build-search-index.js (part 2)
        searchIndex = elasticlunr(function () {
            this.pipeline.remove(elasticlunr.stemmer);
            this.pipeline.remove(elasticlunr.stopWordFilter);
            this.addField("qualname");
            this.addField("fullname");
            this.addField("annotation");
            this.addField("default_value");
            this.addField("signature");
            this.addField("bases");
            this.addField("doc");
            this.setRef("fullname");
        });
        for (let doc of docs) {
            searchIndex.addDoc(doc);
        }
        console.timeEnd("building search index");
    }

    return (term) => searchIndex.search(term, {
        fields: {
            qualname: {boost: 4},
            fullname: {boost: 2},
            annotation: {boost: 2},
            default_value: {boost: 2},
            signature: {boost: 2},
            bases: {boost: 2},
            doc: {boost: 1},
        },
        expand: true
    });
})();